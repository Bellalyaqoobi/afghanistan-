<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فروشگاه بزرگ افغانستان - پنل مدیریت و خرید آنلاین</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a5fb4;
            --primary-light: #e8f2ff;
            --secondary-color: #e67e22;
            --accent-color: #2ecc71;
            --accent-light: #e8f8f0;
            --dark-color: #2c3e50;
            --light-color: #f9f9f9;
            --text-color: #333;
            --text-light: #666;
            --border-color: #eaeaea;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 6px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.25s ease;
            --radius: 8px;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #3498db;
            --admin-primary: #8e44ad;
            --admin-dark: #2c3e50;
            --admin-light: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', 'Noto Naskh Arabic', sans-serif;
            line-height: 1.5;
            color: var(--text-color);
            background-color: #f8fafc;
            direction: rtl;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* هدر فشرده */
        .compact-header {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 10px 0;
            transition: var(--transition);
        }
        
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }
        
        .logo {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }
        
        .logo:hover {
            transform: scale(1.02);
        }
        
        .logo-icon {
            color: var(--secondary-color);
            font-size: 1.5rem;
        }
        
        .location-section {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #555;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 20px;
            transition: var(--transition);
            background: #f8f9fa;
        }
        
        .location-section:hover {
            background: var(--primary-light);
            color: var(--primary-color);
        }
        
        .search-section {
            flex: 1;
            max-width: 600px;
            position: relative;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 30px;
            font-size: 0.95rem;
            outline: none;
            background: #f8f9fa;
            transition: var(--transition);
        }
        
        .search-box:focus {
            border-color: var(--primary-color);
            background: white;
            box-shadow: 0 0 0 3px rgba(26, 95, 180, 0.1);
        }
        
        .search-btn {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-color);
            border: none;
            color: white;
            cursor: pointer;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .search-btn:hover {
            background: #154b8a;
            transform: translateY(-50%) scale(1.05);
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #555;
            font-size: 0.85rem;
            position: relative;
            transition: var(--transition);
            padding: 5px;
            border-radius: 8px;
        }
        
        .action-btn:hover {
            color: var(--primary-color);
            background: var(--primary-light);
        }
        
        .action-icon {
            font-size: 1.3rem;
            margin-bottom: 3px;
        }
        
        .cart-count {
            position: absolute;
            top: -5px;
            left: 10px;
            background: var(--secondary-color);
            color: white;
            font-size: 0.75rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        
        .compact-nav {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #f0f0f0;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
            scrollbar-width: none;
        }
        
        .nav-links::-webkit-scrollbar {
            display: none;
        }
        
        .nav-link {
            padding: 8px 16px;
            font-size: 0.9rem;
            color: #555;
            text-decoration: none;
            white-space: nowrap;
            border-radius: 20px;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .nav-link:hover, .nav-link.active {
            background: var(--primary-light);
            color: var(--primary-color);
            transform: translateY(-2px);
        }
        
        .mobile-nav-btn {
            display: none;
            background: none;
            border: none;
            color: #555;
            font-size: 1.3rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .mobile-nav-btn:hover {
            background: #f5f5f5;
        }
        
        /* بنر تبلیغاتی */
        .promo-banner {
            background: linear-gradient(135deg, #1a5fb4, #2e86de);
            color: white;
            padding: 12px 0;
            text-align: center;
            margin: 10px 0 20px;
            border-radius: 8px;
            font-size: 0.95rem;
            box-shadow: 0 4px 12px rgba(26, 95, 180, 0.2);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 4px 12px rgba(26, 95, 180, 0.2); }
            50% { box-shadow: 0 4px 20px rgba(26, 95, 180, 0.4); }
            100% { box-shadow: 0 4px 12px rgba(26, 95, 180, 0.2); }
        }
        
        .promo-text {
            font-weight: 600;
        }
        
        .promo-highlight {
            background: white;
            color: var(--primary-color);
            padding: 3px 12px;
            border-radius: 20px;
            font-weight: 800;
            margin: 0 5px;
            display: inline-block;
            transform: translateY(-1px);
        }
        
        /* اسلایدر */
        .hero-slider {
            margin: 20px 0;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
            height: 400px;
        }
        
        .slide {
            display: none;
            position: relative;
            height: 100%;
        }
        
        .slide.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0.8; }
            to { opacity: 1; }
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .slide-content {
            position: absolute;
            bottom: 0;
            right: 0;
            background: linear-gradient(to right, rgba(0,0,0,0.85), rgba(0,0,0,0.6));
            color: white;
            padding: 30px;
            width: 50%;
            border-top-left-radius: 20px;
        }
        
        .slide-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .slide-desc {
            font-size: 1rem;
            margin-bottom: 20px;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .btn {
            display: inline-block;
            background: var(--secondary-color);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .btn-primary {
            background: var(--primary-color);
        }
        
        .btn-primary:hover {
            background: #154b8a;
        }
        
        .btn-success {
            background: var(--accent-color);
        }
        
        .btn-success:hover {
            background: #27ae60;
        }
        
        .btn-warning {
            background: var(--warning-color);
        }
        
        .btn-warning:hover {
            background: #e67e22;
        }
        
        .btn-danger {
            background: var(--danger-color);
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .btn-admin {
            background: var(--admin-primary);
        }
        
        .btn-admin:hover {
            background: #7d3c98;
        }
        
        .slider-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .slider-dot:hover {
            background: var(--primary-color);
            transform: scale(1.2);
        }
        
        .slider-dot.active {
            background: var(--primary-color);
            transform: scale(1.3);
        }
        
        /* دسته‌بندی‌ها */
        .categories {
            margin: 30px 0;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color);
            position: relative;
            padding-bottom: 10px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 60px;
            height: 3px;
            background: var(--primary-color);
            border-radius: 2px;
        }
        
        .view-all {
            font-size: 0.9rem;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .view-all:hover {
            gap: 10px;
            background: var(--primary-light);
            padding-right: 20px;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 15px;
        }
        
        .category-item {
            background: white;
            border-radius: var(--radius);
            padding: 20px 10px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .category-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-color);
        }
        
        .category-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: var(--primary-color);
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .category-item:hover .category-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .category-name {
            font-size: 0.9rem;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        /* محصولات - 4 ستونه */
        .products-section {
            margin: 35px 0;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border-color);
            position: relative;
        }
        
        .product-card:hover {
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-color);
            transform: translateY(-5px);
        }
        
        .product-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.05);
        }
        
        .product-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            z-index: 2;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .product-badge.discount {
            background: var(--danger-color);
        }
        
        .product-badge.new {
            background: var(--info-color);
        }
        
        .product-badge.hot {
            background: var(--warning-color);
        }
        
        .product-actions {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            opacity: 0;
            transform: translateX(-10px);
            transition: var(--transition);
            z-index: 2;
        }
        
        .product-card:hover .product-actions {
            opacity: 1;
            transform: translateX(0);
        }
        
        .action-icon-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: white;
            border: none;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            transition: var(--transition);
            font-size: 1rem;
        }
        
        .action-icon-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: scale(1.1) rotate(5deg);
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-title {
            font-size: 0.95rem;
            margin-bottom: 10px;
            color: var(--dark-color);
            height: 42px;
            overflow: hidden;
            line-height: 1.4;
            font-weight: 600;
        }
        
        .product-price {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .price-current {
            font-size: 1.1rem;
            font-weight: 800;
            color: var(--primary-color);
        }
        
        .price-old {
            font-size: 0.85rem;
            color: #999;
            text-decoration: line-through;
        }
        
        .add-to-cart {
            width: 100%;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .add-to-cart:hover {
            background: #154b8a;
        }
        
        .add-to-cart.added {
            background: var(--accent-color);
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
            color: #f39c12;
            font-size: 0.85rem;
        }
        
        /* بخش ویژه */
        .special-offer {
            background: linear-gradient(135deg, var(--primary-color), #2e86de);
            color: white;
            border-radius: 15px;
            padding: 35px;
            margin: 35px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 10px 30px rgba(26, 95, 180, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .special-offer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.3;
        }
        
        .offer-content h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .offer-content p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
            max-width: 500px;
        }
        
        .offer-timer {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 12px;
            display: flex;
            gap: 25px;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .timer-unit {
            display: flex;
            flex-direction: column;
            min-width: 70px;
        }
        
        .timer-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 5px;
        }
        
        .timer-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* خدمات */
        .services {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 35px 0;
            box-shadow: var(--shadow);
            border: 1px solid #f0f0f0;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
        }
        
        .service-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 10px;
            transition: var(--transition);
        }
        
        .service-item:hover {
            background: var(--primary-light);
            transform: translateY(-3px);
        }
        
        .service-icon {
            width: 50px;
            height: 50px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 1.3rem;
            flex-shrink: 0;
            transition: var(--transition);
        }
        
        .service-item:hover .service-icon {
            background: var(--primary-color);
            color: white;
            transform: rotate(15deg);
        }
        
        .service-text h4 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: var(--dark-color);
            font-weight: 700;
        }
        
        .service-text p {
            font-size: 0.85rem;
            color: var(--text-light);
        }
        
        /* برندها */
        .brands-section {
            margin: 35px 0;
        }
        
        .brands-slider {
            display: flex;
            overflow-x: auto;
            gap: 20px;
            padding: 15px 5px;
            scroll-behavior: smooth;
        }
        
        .brands-slider::-webkit-scrollbar {
            height: 6px;
        }
        
        .brands-slider::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .brands-slider::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .brand-item {
            min-width: 150px;
            height: 90px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            box-shadow: var(--shadow);
            flex-shrink: 0;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }
        
        .brand-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .brand-item img {
            max-width: 85%;
            max-height: 45px;
            filter: grayscale(100%);
            opacity: 0.7;
            transition: var(--transition);
        }
        
        .brand-item:hover img {
            filter: grayscale(0%);
            opacity: 1;
        }
        
        /* بخش نظرات مشتریان */
        .testimonials {
            margin: 35px 0;
        }
        
        .testimonials-slider {
            display: flex;
            overflow-x: auto;
            gap: 20px;
            padding: 15px 5px;
            scroll-behavior: smooth;
        }
        
        .testimonial-card {
            min-width: 320px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .customer-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--info-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(26, 95, 180, 0.2);
        }
        
        .customer-info h4 {
            font-size: 1.1rem;
            margin-bottom: 5px;
            font-weight: 700;
        }
        
        .customer-info .rating {
            color: #f39c12;
            font-size: 0.9rem;
        }
        
        .testimonial-text {
            font-size: 0.95rem;
            color: var(--text-light);
            line-height: 1.7;
            font-style: italic;
            position: relative;
            padding-right: 15px;
        }
        
        .testimonial-text::before {
            content: '"';
            font-size: 3rem;
            color: var(--primary-light);
            position: absolute;
            top: -20px;
            right: -5px;
            opacity: 0.5;
        }
        
        /* بخش مقالات */
        .blog-section {
            margin: 35px 0;
        }
        
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
        }
        
        .blog-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .blog-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .blog-image {
            height: 180px;
            overflow: hidden;
            position: relative;
        }
        
        .blog-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .blog-card:hover .blog-image img {
            transform: scale(1.08);
        }
        
        .blog-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .blog-title {
            font-size: 1.1rem;
            margin-bottom: 12px;
            color: var(--dark-color);
            font-weight: 700;
            line-height: 1.4;
        }
        
        .blog-excerpt {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 15px;
            line-height: 1.6;
            flex-grow: 1;
        }
        
        .blog-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #888;
            margin-top: auto;
        }
        
        /* فرآیند خرید */
        .checkout-section {
            display: none;
            margin: 40px 0;
        }
        
        .checkout-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .checkout-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            flex: 1;
            padding: 0 10px;
        }
        
        .step-number {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #f0f0f0;
            color: #777;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 10px;
            z-index: 1;
            transition: var(--transition);
            font-size: 1.1rem;
            border: 3px solid white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .step.active .step-number {
            background: var(--primary-color);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(26, 95, 180, 0.3);
        }
        
        .step.completed .step-number {
            background: var(--accent-color);
            color: white;
        }
        
        .step-title {
            font-size: 0.9rem;
            color: #777;
            font-weight: 600;
            text-align: center;
        }
        
        .step.active .step-title {
            color: var(--primary-color);
        }
        
        .step-line {
            position: absolute;
            top: 22px;
            right: 50%;
            width: 100%;
            height: 3px;
            background: #f0f0f0;
            z-index: 0;
        }
        
        .step:last-child .step-line {
            display: none;
        }
        
        .step.completed .step-line {
            background: var(--accent-color);
        }
        
        .checkout-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-hover);
        }
        
        .checkout-step {
            display: none;
        }
        
        .checkout-step.active {
            display: block;
            animation: slideIn 0.4s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .step-title-main {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--dark-color);
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            font-weight: 700;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: var(--transition);
            font-family: inherit;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 95, 180, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .address-card {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }
        
        .address-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .address-card.selected {
            border-color: var(--primary-color);
            background: var(--primary-light);
            box-shadow: 0 5px 15px rgba(26, 95, 180, 0.1);
        }
        
        .address-title {
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 1.05rem;
        }
        
        .address-details {
            font-size: 0.95rem;
            color: var(--text-light);
            line-height: 1.6;
        }
        
        .address-actions {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        
        .payment-method {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .payment-method:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .payment-method.selected {
            border-color: var(--primary-color);
            background: var(--primary-light);
            box-shadow: 0 5px 15px rgba(26, 95, 180, 0.1);
        }
        
        .payment-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 1.05rem;
        }
        
        .order-summary {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #eaeaea;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            font-size: 0.95rem;
        }
        
        .order-item:last-child {
            border-bottom: none;
        }
        
        .order-total {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--primary-color);
            border-top: 2px solid #eee;
            margin-top: 15px;
        }
        
        .checkout-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #555;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        /* صفحه محصول */
        .product-page {
            display: none;
            margin: 40px 0;
        }
        
        .product-page.active {
            display: block;
        }
        
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-hover);
        }
        
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .main-image {
            height: 450px;
            border-radius: 12px;
            overflow: hidden;
            background: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 20px;
        }
        
        .thumbnails {
            display: flex;
            gap: 12px;
        }
        
        .thumbnail {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            background: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .thumbnail:hover {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }
        
        .thumbnail.active {
            border-color: var(--primary-color);
            box-shadow: 0 4px 10px rgba(26, 95, 180, 0.2);
        }
        
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 5px;
        }
        
        .product-info-detail h1 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--dark-color);
            line-height: 1.3;
        }
        
        .product-rating-detail {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .product-price-detail {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 25px;
        }
        
        .product-old-price {
            font-size: 1.4rem;
            color: #999;
            text-decoration: line-through;
            margin-right: 15px;
        }
        
        .product-description {
            margin-bottom: 25px;
            line-height: 1.7;
            color: var(--text-light);
            font-size: 0.95rem;
        }
        
        .product-options {
            margin-bottom: 30px;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .option-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .option-btn {
            padding: 10px 20px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .option-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-light);
        }
        
        .option-btn.selected {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 2px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.3rem;
            transition: var(--transition);
            font-weight: 700;
        }
        
        .quantity-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .quantity-value {
            font-size: 1.5rem;
            font-weight: 700;
            min-width: 50px;
            text-align: center;
        }
        
        .product-actions-detail {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .btn-buy {
            flex: 1;
            background: var(--secondary-color);
            font-size: 1.1rem;
            padding: 15px;
            border-radius: 10px;
        }
        
        .product-specs {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }
        
        .product-specs h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--dark-color);
        }
        
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #ddd;
        }
        
        .spec-label {
            color: var(--text-light);
            font-weight: 500;
        }
        
        .spec-value {
            color: var(--dark-color);
            font-weight: 600;
        }
        
        /* پنل مدیریت */
        .admin-panel {
            display: none;
            margin: 40px 0;
        }
        
        .admin-panel.active {
            display: block;
        }
        
        .admin-header {
            background: linear-gradient(135deg, var(--admin-primary), #9b59b6);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(142, 68, 173, 0.2);
        }
        
        .admin-header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .admin-header p {
            opacity: 0.9;
            font-size: 1rem;
        }
        
        .admin-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }
        
        .admin-sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow-hover);
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .admin-user {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .admin-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--admin-primary), #9b59b6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(142, 68, 173, 0.2);
        }
        
        .admin-menu {
            list-style: none;
        }
        
        .admin-menu li {
            margin-bottom: 8px;
        }
        
        .admin-menu a {
            display: block;
            padding: 12px 15px;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .admin-menu a:hover, .admin-menu a.active {
            background: rgba(142, 68, 173, 0.1);
            color: var(--admin-primary);
            transform: translateX(-5px);
        }
        
        .admin-menu a i {
            font-size: 1.1rem;
            width: 20px;
        }
        
        .admin-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-hover);
            min-height: 600px;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .section-title-admin {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--dark-color);
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            font-weight: 700;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 35px;
        }
        
        .admin-stat-card {
            background: linear-gradient(135deg, #f9f9f9, #f0f0f0);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid #eee;
            position: relative;
            overflow: hidden;
        }
        
        .admin-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--admin-primary), #9b59b6);
        }
        
        .admin-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .admin-stat-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--admin-primary);
        }
        
        .admin-stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        .admin-table-container {
            overflow-x: auto;
            margin-top: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        .admin-table th, .admin-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        .admin-table th {
            background: #f9f9f9;
            font-weight: 700;
            color: var(--dark-color);
            position: sticky;
            top: 0;
            white-space: nowrap;
        }
        
        .admin-table tr:hover {
            background: #f9f9f9;
        }
        
        .admin-actions {
            display: flex;
            gap: 8px;
        }
        
        .action-btn-small {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .action-edit {
            background: var(--primary-light);
            color: var(--primary-color);
        }
        
        .action-edit:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .action-delete {
            background: #f8d7da;
            color: #721c24;
        }
        
        .action-delete:hover {
            background: #e74c3c;
            color: white;
        }
        
        .action-view {
            background: var(--accent-light);
            color: var(--accent-color);
        }
        
        .action-view:hover {
            background: var(--accent-color);
            color: white;
        }
        
        .status-badge {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            display: inline-block;
        }
        
        .status-active {
            background: var(--accent-light);
            color: var(--accent-color);
        }
        
        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-completed {
            background: #d4edda;
            color: #155724;
        }
        
        .admin-form-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }
        
        .form-section {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .form-section h3 {
            margin-bottom: 20px;
            color: var(--dark-color);
            font-size: 1.2rem;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .image-upload {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
        }
        
        .image-upload:hover {
            border-color: var(--primary-color);
            background: var(--primary-light);
        }
        
        .image-upload i {
            font-size: 3rem;
            color: #ccc;
            margin-bottom: 15px;
            display: block;
        }
        
        .uploaded-images {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .uploaded-image {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            border: 2px solid #ddd;
        }
        
        .uploaded-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .remove-image {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--danger-color);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .admin-search {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .admin-search .form-input {
            flex: 1;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }
        
        .page-btn {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: white;
            border: 2px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }
        
        .page-btn:hover {
            border-color: var(--admin-primary);
            background: rgba(142, 68, 173, 0.1);
        }
        
        .page-btn.active {
            background: var(--admin-primary);
            color: white;
            border-color: var(--admin-primary);
        }
        
        /* فوتر */
        footer {
            background: var(--dark-color);
            color: white;
            padding: 50px 0 25px;
            margin-top: 60px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--primary-color);
            font-weight: 700;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: #ccc;
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            color: white;
            padding-right: 10px;
        }
        
        .footer-links a::before {
            content: "›";
            font-size: 1.2rem;
            opacity: 0;
            transition: var(--transition);
        }
        
        .footer-links a:hover::before {
            opacity: 1;
        }
        
        .social-icons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .social-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .social-icon:hover {
            background: var(--primary-color);
            transform: translateY(-5px) rotate(5deg);
        }
        
        .newsletter {
            margin-top: 20px;
        }
        
        .newsletter-input {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }
        
        .newsletter-input input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .newsletter-input input::placeholder {
            color: #aaa;
        }
        
        .newsletter-input button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0 25px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .newsletter-input button:hover {
            background: #154b8a;
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .payment-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .payment-icon {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* مودال‌ها */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(3px);
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            transform: translateY(20px);
            animation: modalSlideIn 0.4s ease forwards;
        }
        
        @keyframes modalSlideIn {
            to {
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .modal-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark-color);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.8rem;
            color: #777;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background: #f5f5f5;
            color: var(--danger-color);
            transform: rotate(90deg);
        }
        
        /* صفحه حساب کاربری */
        .account-page {
            display: none;
            margin: 40px 0;
        }
        
        .account-page.active {
            display: block;
        }
        
        .account-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
        }
        
        .account-sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow-hover);
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .account-user {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--info-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(26, 95, 180, 0.2);
        }
        
        .account-menu {
            list-style: none;
        }
        
        .account-menu li {
            margin-bottom: 10px;
        }
        
        .account-menu a {
            display: block;
            padding: 12px 15px;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .account-menu a:hover, .account-menu a.active {
            background: var(--primary-light);
            color: var(--primary-color);
            transform: translateX(-5px);
        }
        
        .account-menu a i {
            font-size: 1.1rem;
            width: 20px;
        }
        
        .account-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-hover);
        }
        
        .account-section {
            display: none;
        }
        
        .account-section.active {
            display: block;
        }
        
        .section-title-account {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--dark-color);
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            font-weight: 700;
        }
        
        .orders-table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .orders-table th, .orders-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        .orders-table th {
            background: #f9f9f9;
            font-weight: 700;
            color: var(--dark-color);
            position: sticky;
            top: 0;
        }
        
        .order-status {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            display: inline-block;
        }
        
        .status-delivered {
            background: var(--accent-light);
            color: var(--accent-color);
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-processing {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status-shipped {
            background: #d4edda;
            color: #155724;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 35px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f9f9f9, #f0f0f0);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid #eee;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        /* نوتیفیکیشن */
        .notification {
            position: fixed;
            top: 30px;
            left: 30px;
            background: var(--accent-color);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 3000;
            display: none;
            max-width: 350px;
            border-left: 5px solid white;
        }
        
        .notification.show {
            display: block;
            animation: slideInLeft 0.3s ease;
        }
        
        @keyframes slideInLeft {
            from {
                transform: translateX(-30px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* بخش جدید: فیلتر محصولات */
        .products-filter {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }
        
        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .filter-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        .filter-group {
            margin-bottom: 15px;
        }
        
        .filter-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .filter-values {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-chip {
            padding: 8px 15px;
            background: #f5f5f5;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .filter-chip:hover {
            background: var(--primary-light);
            color: var(--primary-color);
        }
        
        .filter-chip.active {
            background: var(--primary-color);
            color: white;
        }
        
        /* بخش جدید: مقایسه محصولات */
        .compare-section {
            margin: 40px 0;
            display: none;
        }
        
        .compare-section.active {
            display: block;
        }
        
        .compare-table {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-hover);
            overflow-x: auto;
        }
        
        /* بخش جدید: محصولات پیشنهادی */
        .recommended-section {
            margin: 40px 0;
        }
        
        .recommended-slider {
            display: flex;
            overflow-x: auto;
            gap: 20px;
            padding: 15px 5px;
        }
        
        /* بخش جدید: آمار و اطلاعات */
        .stats-section {
            background: linear-gradient(135deg, var(--primary-color), #2e86de);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin: 40px 0;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }
        
        .stat-item h3 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }
        
        .stat-item p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        /* بخش جدید: تخفیف‌های ویژه */
        .discounts-section {
            margin: 40px 0;
        }
        
        .discount-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
        }
        
        .discount-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .discount-card:hover {
            border-color: var(--accent-color);
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .discount-percent {
            font-size: 3rem;
            font-weight: 800;
            color: var(--accent-color);
            margin-bottom: 15px;
        }
        
        /* دکمه بازگشت به بالا */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 999;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background: #154b8a;
            transform: translateY(-5px);
        }
        
        /* ریسپانسیو */
        @media (max-width: 1200px) {
            .categories-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .services-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
            }
            
            .account-container {
                grid-template-columns: 250px 1fr;
                gap: 30px;
            }
            
            .admin-container {
                grid-template-columns: 250px 1fr;
                gap: 30px;
            }
        }
        
        @media (max-width: 992px) {
            .categories-grid {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .blog-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .discount-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .product-detail {
                grid-template-columns: 1fr;
            }
            
            .main-image {
                height: 350px;
            }
            
            .checkout-steps .step-title {
                font-size: 0.8rem;
            }
            
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .search-section {
                order: 3;
                width: 100%;
                max-width: 100%;
                margin-top: 15px;
            }
            
            .mobile-nav-btn {
                display: flex;
            }
            
            .header-actions .action-btn span {
                display: none;
            }
            
            .action-icon {
                font-size: 1.5rem;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                width: 100%;
                background: white;
                flex-direction: column;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                border-radius: 0 0 15px 15px;
                z-index: 100;
                padding: 15px;
                max-height: 70vh;
                overflow-y: auto;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-link {
                padding: 15px 20px;
                border-bottom: 1px solid #f5f5f5;
                border-radius: 10px;
            }
            
            .categories-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .slide-content {
                width: 80%;
                padding: 20px;
            }
            
            .slide-title {
                font-size: 1.4rem;
            }
            
            .slide-desc {
                font-size: 0.9rem;
            }
            
            .special-offer {
                flex-direction: column;
                gap: 25px;
                text-align: center;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .account-container {
                grid-template-columns: 1fr;
            }
            
            .account-sidebar {
                position: static;
            }
            
            .admin-container {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                position: static;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .hero-slider {
                height: 300px;
            }
        }
        
        @media (max-width: 576px) {
            .container {
                padding: 0 15px;
            }
            
            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .slide-content {
                width: 100%;
                position: relative;
                background: rgba(0, 0, 0, 0.85);
                padding: 15px;
            }
            
            .slide img {
                height: 250px;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .checkout-steps .step-title {
                font-size: 0.7rem;
            }
            
            .product-actions-detail {
                flex-direction: column;
            }
            
            .btn-buy {
                width: 100%;
            }
            
            .blog-grid {
                grid-template-columns: 1fr;
            }
            
            .discount-cards {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .admin-stats {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .header-top {
                flex-wrap: wrap;
            }
            
            .logo-section {
                order: 1;
            }
            
            .header-actions {
                order: 2;
            }
            
            .location-section {
                order: 4;
                margin-top: 10px;
                width: 100%;
                justify-content: center;
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero-slider {
                height: 250px;
            }
            
            .modal-content {
                padding: 20px;
            }
        }
        
        /* انیمیشن‌های اضافی */
        @keyframes bounce {
            0%, 20%, 60%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            80% {
                transform: translateY(-5px);
            }
        }
        
        .bounce:hover {
            animation: bounce 0.6s;
        }
        
        /* اسکلتون برای لودینگ */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
        }
        
        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }
    </style>
</head>
<body>
    <!-- هدر فشرده -->
    <header class="compact-header">
        <div class="container">
            <div class="header-top">
                <div class="logo-section">
                    <a href="#" class="logo bounce" onclick="showHomePage()">
                        <i class="fas fa-store-alt logo-icon"></i>
                        <span>فروشگاه افغانستان</span>
                    </a>
                </div>
                
                <div class="location-section bounce" id="locationBtn">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="currentCity">کابل</span>
                    <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
                </div>
                
                <div class="search-section">
                    <input type="text" class="search-box" id="searchInput" placeholder="جستجوی محصولات، برندها و دسته‌بندی‌ها...">
                    <button class="search-btn" id="searchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <div class="header-actions">
                    <a href="#" class="action-btn bounce" id="accountBtn" onclick="showAccountPage()">
                        <i class="fas fa-user action-icon"></i>
                        <span>حساب کاربری</span>
                    </a>
                    <a href="#" class="action-btn bounce cart-icon" id="cartBtn">
                        <i class="fas fa-shopping-cart action-icon"></i>
                        <span>سبد خرید</span>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    <a href="#" class="action-btn bounce" id="adminBtn" onclick="showAdminPanel()" style="display: none;">
                        <i class="fas fa-cogs action-icon"></i>
                        <span>مدیریت</span>
                    </a>
                </div>
                
                <button class="mobile-nav-btn bounce" id="mobileNavBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="compact-nav">
                <ul class="nav-links" id="navLinks">
                    <li><a href="#" class="nav-link active" onclick="showHomePage()"><i class="fas fa-home" style="margin-left: 8px;"></i>صفحه اصلی</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('electronics')"><i class="fas fa-tv" style="margin-left: 8px;"></i>الکترونیک</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('clothing')"><i class="fas fa-tshirt" style="margin-left: 8px;"></i>پوشاک</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('home')"><i class="fas fa-home" style="margin-left: 8px;"></i>خانه و آشپزخانه</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('mobile')"><i class="fas fa-mobile-alt" style="margin-left: 8px;"></i>موبایل</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('supermarket')"><i class="fas fa-shopping-cart" style="margin-left: 8px;"></i>سوپرمارکت</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('beauty')"><i class="fas fa-spa" style="margin-left: 8px;"></i>زیبایی</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('books')"><i class="fas fa-book" style="margin-left: 8px;"></i>کتاب</a></li>
                    <li><a href="#" class="nav-link" onclick="showCategory('sports')"><i class="fas fa-futbol" style="margin-left: 8px;"></i>ورزشی</a></li>
                    <li><a href="#" class="nav-link" onclick="showCompareSection()"><i class="fas fa-balance-scale" style="margin-left: 8px;"></i>مقایسه</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- بنر تبلیغاتی -->
    <div class="promo-banner container">
        <p class="promo-text">🚚 ارسال رایگان به سراسر افغانستان | خرید بالای <span class="promo-highlight">۵۰۰,۰۰۰ افغانی</span> | پرداخت در محل | تضمین بهترین قیمت</p>
    </div>
    
    <!-- صفحه اصلی -->
    <div id="homePage">
        <!-- اسلایدر -->
        <section class="hero-slider container">
            <div class="slide active">
                <img src="https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80" alt="تخفیف ویژه">
                <div class="slide-content">
                    <h3 class="slide-title">فروش ویژه تابستان ۱۴۰۲</h3>
                    <p class="slide-desc">تا ۷۰٪ تخفیف روی هزاران محصول از برندهای معتبر جهانی و داخلی</p>
                    <a href="#" class="btn btn-warning" onclick="showCategory('discount')"><i class="fas fa-bolt" style="margin-left: 8px;"></i>مشاهده پیشنهادات</a>
                </div>
            </div>
            
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80" alt="تکنولوژی">
                <div class="slide-content">
                    <h3 class="slide-title">جدیدترین تکنولوژی‌های ۲۰۲۳</h3>
                    <p class="slide-desc">لپ‌تاپ، موبایل، تبلت و گجت‌های هوشمند با گارانتی معتبر</p>
                    <a href="#" class="btn btn-primary" onclick="showCategory('electronics')"><i class="fas fa-laptop" style="margin-left: 8px;"></i>مشاهده محصولات</a>
                </div>
            </div>
            
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80" alt="مد و پوشاک">
                <div class="slide-content">
                    <h3 class="slide-title">مجموعه بهاری مد و پوشاک</h3>
                    <p class="slide-desc">آخرین ترندهای مد روز با کیفیت عالی و قیمت مناسب</p>
                    <a href="#" class="btn btn-success" onclick="showCategory('clothing')"><i class="fas fa-tshirt" style="margin-left: 8px;"></i>خرید پوشاک</a>
                </div>
            </div>
            
            <div class="slider-controls">
                <div class="slider-dot active" data-slide="0"></div>
                <div class="slider-dot" data-slide="1"></div>
                <div class="slider-dot" data-slide="2"></div>
            </div>
        </section>
        
        <!-- دسته‌بندی‌ها -->
        <section class="categories container">
            <div class="section-header">
                <h2 class="section-title">دسته‌بندی محصولات</h2>
                <a href="#" class="view-all bounce" onclick="showAllCategories()">
                    مشاهده همه
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="categories-grid" id="categoriesGrid">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- فیلتر محصولات -->
        <section class="products-filter container" id="productsFilter">
            <div class="filter-header">
                <h3 style="font-size: 1.2rem; font-weight: 700; color: var(--dark-color);">فیلتر محصولات</h3>
                <button class="btn btn-secondary" onclick="resetFilters()">حذف فیلترها</button>
            </div>
            
            <div class="filter-options">
                <div class="filter-group">
                    <div class="filter-title">قیمت</div>
                    <div class="filter-values">
                        <div class="filter-chip" onclick="filterByPrice('under500k')">زیر ۵۰۰ هزار</div>
                        <div class="filter-chip" onclick="filterByPrice('500k-2m')">۵۰۰ هزار تا ۲ میلیون</div>
                        <div class="filter-chip" onclick="filterByPrice('2m-5m')">۲ تا ۵ میلیون</div>
                        <div class="filter-chip" onclick="filterByPrice('over5m')">بالای ۵ میلیون</div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div class="filter-title">برند</div>
                    <div class="filter-values">
                        <div class="filter-chip" onclick="filterByBrand('samsung')">سامسونگ</div>
                        <div class="filter-chip" onclick="filterByBrand('apple')">اپل</div>
                        <div class="filter-chip" onclick="filterByBrand('sony')">سونی</div>
                        <div class="filter-chip" onclick="filterByBrand('lg')">ال‌جی</div>
                        <div class="filter-chip" onclick="filterByBrand('xiaomi')">شیائومی</div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div class="filter-title">رتبه‌بندی</div>
                    <div class="filter-values">
                        <div class="filter-chip" onclick="filterByRating(4)">۴ ستاره به بالا</div>
                        <div class="filter-chip" onclick="filterByRating(3)">۳ ستاره به بالا</div>
                        <div class="filter-chip" onclick="filterByRating(5)">۵ ستاره</div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <div class="filter-title">وضعیت</div>
                    <div class="filter-values">
                        <div class="filter-chip" onclick="filterByStatus('discount')">تخفیف‌دار</div>
                        <div class="filter-chip" onclick="filterByStatus('new')">جدید</div>
                        <div class="filter-chip" onclick="filterByStatus('bestseller')">پرفروش</div>
                        <div class="filter-chip" onclick="filterByStatus('instock')">موجود</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- محصولات پرفروش -->
        <section class="products-section container">
            <div class="section-header">
                <h2 class="section-title">پرفروش‌ترین محصولات هفته</h2>
                <a href="#" class="view-all bounce" onclick="showCategory('best-selling')">
                    مشاهده همه
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="products-grid" id="featuredProducts">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- آمار و اطلاعات -->
        <section class="stats-section container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h3 id="customerCount">۵۰,۰۰۰+</h3>
                    <p>مشتری راضی</p>
                </div>
                <div class="stat-item">
                    <h3 id="productCount">۱۰,۰۰۰+</h3>
                    <p>محصول متنوع</p>
                </div>
                <div class="stat-item">
                    <h3 id="orderCount">۱۰۰,۰۰۰+</h3>
                    <p>سفارش موفق</p>
                </div>
                <div class="stat-item">
                    <h3 id="cityCount">۳۴+</h3>
                    <p>شهر تحت پوشش</p>
                </div>
            </div>
        </section>
        
        <!-- پیشنهاد ویژه -->
        <section class="special-offer container">
            <div class="offer-content">
                <h2>پیشنهاد شگفت‌انگیز!</h2>
                <p>فقط امروز: گوشی سامسونگ گلکسی S23 اولترا با ۳۵٪ تخفیف + هدیه رایگان</p>
                <div class="offer-timer">
                    <div class="timer-unit">
                        <div class="timer-value" id="hours">12</div>
                        <div class="timer-label">ساعت</div>
                    </div>
                    <div class="timer-unit">
                        <div class="timer-value" id="minutes">45</div>
                        <div class="timer-label">دقیقه</div>
                    </div>
                    <div class="timer-unit">
                        <div class="timer-value" id="seconds">30</div>
                        <div class="timer-label">ثانیه</div>
                    </div>
                </div>
            </div>
            <div>
                <button class="btn btn-success bounce" onclick="showProductDetail(1)"><i class="fas fa-gift" style="margin-left: 8px;"></i>مشاهده پیشنهاد</button>
            </div>
        </section>
        
        <!-- خدمات -->
        <section class="services container">
            <div class="services-grid">
                <div class="service-item">
                    <div class="service-icon">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <div class="service-text">
                        <h4>ارسال سریع و رایگان</h4>
                        <p>ارسال به تمام ولایت‌های افغانستان در ۲۴-۷۲ ساعت</p>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="service-text">
                        <h4>گارانتی بازگشت</h4>
                        <p>۷ روز ضمانت بازگشت وجه در صورت نارضایتی</p>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="service-text">
                        <h4>پشتیبانی ۲۴/۷</h4>
                        <p>پشتیبانی تلفنی و آنلاین در تمام ساعات</p>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div class="service-text">
                        <h4>پرداخت امن</h4>
                        <p>پرداخت آنلاین امن و پرداخت در محل</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- محصولات جدید -->
        <section class="products-section container">
            <div class="section-header">
                <h2 class="section-title">جدیدترین محصولات</h2>
                <a href="#" class="view-all bounce" onclick="showCategory('new')">
                    مشاهده همه
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="products-grid" id="newProducts">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- تخفیف‌های ویژه -->
        <section class="discounts-section container">
            <div class="section-header">
                <h2 class="section-title">تخفیف‌های ویژه امروز</h2>
                <a href="#" class="view-all bounce" onclick="showCategory('discount')">
                    مشاهده همه
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="discount-cards" id="discountCards">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- محصولات پیشنهادی -->
        <section class="recommended-section container">
            <div class="section-header">
                <h2 class="section-title">پیشنهادات ویژه برای شما</h2>
            </div>
            
            <div class="recommended-slider" id="recommendedSlider">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- نظرات مشتریان -->
        <section class="testimonials container">
            <div class="section-header">
                <h2 class="section-title">نظرات مشتریان راضی</h2>
                <a href="#" class="view-all bounce" onclick="showAllTestimonials()">
                    همه نظرات
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="testimonials-slider" id="testimonialsSlider">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- برندها -->
        <section class="brands-section container">
            <div class="section-header">
                <h2 class="section-title">برندهای همکار ما</h2>
            </div>
            
            <div class="brands-slider" id="brandsSlider">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- مقالات وبلاگ -->
        <section class="blog-section container">
            <div class="section-header">
                <h2 class="section-title">مقالات آموزشی و اخبار</h2>
                <a href="#" class="view-all bounce">
                    مشاهده همه مقالات
                    <i class="fas fa-arrow-left"></i>
                </a>
            </div>
            
            <div class="blog-grid" id="blogGrid">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
        
        <!-- مقایسه محصولات -->
        <section class="compare-section container" id="compareSection">
            <div class="section-header">
                <h2 class="section-title">مقایسه محصولات</h2>
                <button class="btn btn-danger" onclick="closeCompareSection()">بستن مقایسه</button>
            </div>
            
            <div class="compare-table" id="compareTable">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </section>
    </div>
    
    <!-- صفحه محصول -->
    <section class="product-page container" id="productPage">
        <!-- با JavaScript پر می‌شود -->
    </section>
    
    <!-- فرآیند خرید -->
    <section class="checkout-section container" id="checkoutSection">
        <!-- با JavaScript پر می‌شود -->
    </section>
    
    <!-- صفحه حساب کاربری -->
    <section class="account-page container" id="accountPage">
        <!-- با JavaScript پر می‌شود -->
    </section>
    
    <!-- پنل مدیریت -->
    <section class="admin-panel container" id="adminPanel">
        <!-- با JavaScript پر می‌شود -->
    </section>
    
    <!-- دکمه بازگشت به بالا -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>
    
    <!-- فوتر -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>فروشگاه بزرگ افغانستان</h3>
                    <p style="font-size: 0.9rem; color: #ccc; margin-top: 15px; line-height: 1.6;">اولین و بزرگترین فروشگاه آنلاین در افغانستان با ارائه گسترده‌ترین محصولات از برندهای معتبر جهانی و داخلی. ما با افتخار به تمام هموطنان در سراسر افغانستان خدمت‌رسانی می‌کنیم.</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon bounce"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon bounce"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon bounce"><i class="fab fa-telegram"></i></a>
                        <a href="#" class="social-icon bounce"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-icon bounce"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>لینک‌های مفید</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showAccountPage('about')"><i class="fas fa-info-circle"></i> درباره ما</a></li>
                        <li><a href="#" onclick="showAccountPage('contact')"><i class="fas fa-phone"></i> تماس با ما</a></li>
                        <li><a href="#" onclick="showAccountPage('faq')"><i class="fas fa-question-circle"></i> سوالات متداول</a></li>
                        <li><a href="#" onclick="showAccountPage('privacy')"><i class="fas fa-shield-alt"></i> حریم خصوصی</a></li>
                        <li><a href="#" onclick="showAccountPage('terms')"><i class="fas fa-file-contract"></i> قوانین و مقررات</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>خدمات مشتریان</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showAccountPage('orders')"><i class="fas fa-shopping-bag"></i> پیگیری سفارش</a></li>
                        <li><a href="#" onclick="showAccountPage('guide')"><i class="fas fa-book"></i> راهنمای خرید</a></li>
                        <li><a href="#" onclick="showAccountPage('return')"><i class="fas fa-exchange-alt"></i> بازگرداندن کالا</a></li>
                        <li><a href="#" onclick="showAccountPage('warranty')"><i class="fas fa-certificate"></i> گارانتی محصولات</a></li>
                        <li><a href="#" onclick="showAccountPage('branches')"><i class="fas fa-map-marker-alt"></i> شعب فروشگاه</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>عضویت در خبرنامه</h3>
                    <p style="font-size: 0.9rem; color: #ccc; margin-top: 15px; line-height: 1.6;">برای دریافت جدیدترین تخفیف‌ها، پیشنهادات ویژه و اخبار فروشگاه در خبرنامه عضو شوید.</p>
                    <div class="newsletter">
                        <div class="newsletter-input">
                            <input type="email" id="newsletterEmail" placeholder="آدرس ایمیل شما">
                            <button onclick="subscribeNewsletter()">عضویت</button>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h4 style="font-size: 1rem; margin-bottom: 10px;">تماس با پشتیبانی</h4>
                        <p style="font-size: 0.9rem; color: #ccc;">
                            <i class="fas fa-phone" style="margin-left: 8px;"></i> ۰۷۸۰۱۲۳۴۵۶۷
                        </p>
                        <p style="font-size: 0.9rem; color: #ccc; margin-top: 5px;">
                            <i class="fas fa-envelope" style="margin-left: 8px;"></i> info@afghanstore.af
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>کلیه حقوق این وبسایت متعلق به فروشگاه بزرگ افغانستان می‌باشد © ۱۴۰۲ - طراحی و توسعه با ❤️ در افغانستان</p>
                <div class="payment-icons">
                    <span class="payment-icon"><i class="fas fa-credit-card"></i> پرداخت آنلاین</span>
                    <span class="payment-icon"><i class="fas fa-truck"></i> تحویل در محل</span>
                    <span class="payment-icon"><i class="fas fa-shield-check"></i> ضمانت بازگشت</span>
                    <span class="payment-icon"><i class="fas fa-lock"></i> امنیت بالا</span>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- مودال‌ها -->
    <div class="modal" id="locationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">انتخاب شهر برای ارسال</h3>
                <button class="modal-close" id="closeLocationModal">&times;</button>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; max-height: 500px; overflow-y: auto; padding: 15px 0;">
                <!-- شهرها با JavaScript پر می‌شود -->
            </div>
        </div>
    </div>
    
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">سبد خرید شما</h3>
                <button class="modal-close" id="closeCartModal">&times;</button>
            </div>
            
            <div id="cartItems">
                <!-- آیتم‌های سبد خرید با JavaScript پر می‌شود -->
            </div>
            
            <div id="cartSummary" style="display: none; margin-top: 25px; padding-top: 25px; border-top: 2px solid var(--border-color);">
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: 700; font-size: 1.1rem;">
                    <span>جمع کل سبد خرید:</span>
                    <span id="cartTotalPrice">۰ افغانی</span>
                </div>
                <button class="btn btn-success" style="width: 100%; font-size: 1rem; padding: 15px;" onclick="startCheckout()">
                    <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i> ادامه فرآیند خرید
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ورود به حساب کاربری</h3>
                <button class="modal-close" id="closeLoginModal">&times;</button>
            </div>
            
            <div>
                <div class="form-group">
                    <label class="form-label">شماره موبایل یا ایمیل</label>
                    <input type="text" class="form-input" id="loginUsername" placeholder="مثال: ۰۷۸۰۱۲۳۴۵۶۷ یا email@example.com">
                </div>
                
                <div class="form-group">
                    <label class="form-label">رمز عبور</label>
                    <input type="password" class="form-input" id="loginPassword" placeholder="رمز عبور خود را وارد کنید">
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; gap: 8px; font-size: 0.9rem;">
                        <input type="checkbox" id="rememberMe">
                        مرا به خاطر بسپار
                    </label>
                    <a href="#" style="color: var(--primary-color); font-size: 0.9rem;" onclick="showForgotPasswordModal()">فراموشی رمز عبور</a>
                </div>
                
                <button class="btn btn-primary" style="width: 100%; margin-bottom: 20px; padding: 15px;" onclick="login()">
                    <i class="fas fa-sign-in-alt" style="margin-left: 8px;"></i> ورود به حساب کاربری
                </button>
                
                <div style="text-align: center; margin: 20px 0; position: relative;">
                    <span style="background: white; padding: 0 15px; position: relative; z-index: 1; color: #777; font-size: 0.9rem;">یا</span>
                    <hr style="position: absolute; top: 50%; right: 0; left: 0; border: none; border-top: 1px solid #eee; margin: 0;">
                </div>
                
                <div style="text-align: center; margin: 15px 0;">
                    <span style="color: #777; font-size: 0.95rem;">حساب کاربری ندارید؟</span>
                    <a href="#" style="color: var(--primary-color); margin-right: 8px; font-size: 0.95rem; font-weight: 600;" onclick="showRegisterModal()">ثبت‌نام کنید</a>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-admin" style="padding: 12px 25px;" onclick="loginAsAdmin()">
                        <i class="fas fa-cogs" style="margin-left: 8px;"></i> ورود به پنل مدیریت
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ثبت‌نام حساب کاربری جدید</h3>
                <button class="modal-close" id="closeRegisterModal">&times;</button>
            </div>
            
            <div>
                <div class="form-group">
                    <label class="form-label">نام و نام خانوادگی <span style="color: var(--danger-color);">*</span></label>
                    <input type="text" class="form-input" id="registerName" placeholder="نام کامل خود را وارد کنید">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">شماره موبایل <span style="color: var(--danger-color);">*</span></label>
                        <input type="text" class="form-input" id="registerPhone" placeholder="۰۷۸۰۱۲۳۴۵۶۷">
                    </div>
                    <div class="form-group">
                        <label class="form-label">کد ملی</label>
                        <input type="text" class="form-input" id="registerNationalId" placeholder="کد ملی (اختیاری)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ایمیل (اختیاری)</label>
                    <input type="email" class="form-input" id="registerEmail" placeholder="email@example.com">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">رمز عبور <span style="color: var(--danger-color);">*</span></label>
                        <input type="password" class="form-input" id="registerPassword" placeholder="حداقل ۶ کاراکتر">
                    </div>
                    <div class="form-group">
                        <label class="form-label">تکرار رمز عبور <span style="color: var(--danger-color);">*</span></label>
                        <input type="password" class="form-input" id="registerConfirmPassword" placeholder="تکرار رمز عبور">
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: flex-start; gap: 10px; font-size: 0.9rem;">
                        <input type="checkbox" id="acceptTerms" style="margin-top: 3px;">
                        <span>با <a href="#" style="color: var(--primary-color);">قوانین و مقررات</a> و <a href="#" style="color: var(--primary-color);">حریم خصوصی</a> فروشگاه موافقم.</span>
                    </label>
                </div>
                
                <button class="btn btn-success" style="width: 100%; padding: 15px;" onclick="register()">
                    <i class="fas fa-user-plus" style="margin-left: 8px;"></i> ثبت‌نام و ایجاد حساب
                </button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" style="color: var(--primary-color); font-size: 0.95rem; font-weight: 600;" onclick="showLoginModal()">قبلاً ثبت‌نام کرده‌اید؟ وارد شوید</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="forgotPasswordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">بازیابی رمز عبور</h3>
                <button class="modal-close" id="closeForgotPasswordModal">&times;</button>
            </div>
            
            <div>
                <div class="form-group">
                    <label class="form-label">شماره موبایل یا ایمیل</label>
                    <input type="text" class="form-input" id="forgotUsername" placeholder="شماره موبایل یا ایمیل خود را وارد کنید">
                </div>
                
                <p style="color: var(--text-light); margin-bottom: 20px; font-size: 0.9rem; line-height: 1.6;">لینک بازیابی رمز عبور به شماره موبایل یا ایمیل شما ارسال خواهد شد.</p>
                
                <button class="btn btn-primary" style="width: 100%; padding: 15px;" onclick="sendResetPassword()">
                    <i class="fas fa-paper-plane" style="margin-left: 8px;"></i> ارسال لینک بازیابی
                </button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" style="color: var(--primary-color); font-size: 0.95rem; font-weight: 600;" onclick="showLoginModal()">بازگشت به صفحه ورود</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="addressModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">افزودن آدرس جدید</h3>
                <button class="modal-close" id="closeAddressModal">&times;</button>
            </div>
            
            <div>
                <div class="form-group">
                    <label class="form-label">عنوان آدرس <span style="color: var(--danger-color);">*</span></label>
                    <input type="text" class="form-input" id="addressTitle" placeholder="مثال: منزل، محل کار، دفتر">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">شهر <span style="color: var(--danger-color);">*</span></label>
                        <select class="form-select" id="addressCity">
                            <option value="">انتخاب شهر</option>
                            <!-- شهرها با JavaScript پر می‌شود -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">منطقه <span style="color: var(--danger-color);">*</span></label>
                        <input type="text" class="form-input" id="addressArea" placeholder="مثال: کارته سخی، وزیر اکبرخان">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">آدرس کامل <span style="color: var(--danger-color);">*</span></label>
                    <textarea class="form-textarea" id="addressFull" rows="4" placeholder="آدرس کامل شامل خیابان، کوچه، پلاک، واحد و ..."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">کد پستی (اختیاری)</label>
                        <input type="text" class="form-input" id="addressPostalCode" placeholder="کد پستی ۱۰ رقمی">
                    </div>
                    <div class="form-group">
                        <label class="form-label">شماره تماس <span style="color: var(--danger-color);">*</span></label>
                        <input type="text" class="form-input" id="addressPhone" placeholder="شماره تماس جهت هماهنگی">
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="addressDefault">
                        <span>این آدرس را به عنوان آدرس پیش‌فرض تنظیم کن</span>
                    </label>
                </div>
                
                <button class="btn btn-success" style="width: 100%; padding: 15px;" onclick="saveAddress()">
                    <i class="fas fa-save" style="margin-left: 8px;"></i> ذخیره آدرس
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="productQuickView">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title">مشاهده سریع محصول</h3>
                <button class="modal-close" id="closeQuickView">&times;</button>
            </div>
            <div id="quickViewContent">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </div>
    </div>
    
    <!-- مودال مدیریت -->
    <div class="modal" id="adminProductModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title" id="adminProductModalTitle">افزودن محصول جدید</h3>
                <button class="modal-close" id="closeAdminProductModal">&times;</button>
            </div>
            <div id="adminProductModalContent">
                <!-- با JavaScript پر می‌شود -->
            </div>
        </div>
    </div>
    
    <!-- نوتیفیکیشن -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <script>
        // داده‌های کامل و گسترش یافته
        const appData = {
            // کاربران سیستم
            users: [
                {
                    id: 1,
                    name: "احمد رحیمی",
                    phone: "07801234567",
                    email: "ahmad@example.com",
                    password: "123456",
                    role: "admin",
                    nationalId: "1234567890",
                    joinDate: "۱۴۰۲/۰۱/۱۵",
                    gender: "male",
                    status: "active"
                },
                {
                    id: 2,
                    name: "زهرا محمدی",
                    phone: "07901234567",
                    email: "zahra@example.com",
                    password: "123456",
                    role: "customer",
                    nationalId: "0987654321",
                    joinDate: "۱۴۰۲/۰۲/۲۰",
                    gender: "female",
                    status: "active"
                },
                {
                    id: 3,
                    name: "علی کریمی",
                    phone: "07001234567",
                    email: "ali@example.com",
                    password: "123456",
                    role: "customer",
                    nationalId: "1122334455",
                    joinDate: "۱۴۰۲/۰۳/۱۰",
                    gender: "male",
                    status: "active"
                },
                {
                    id: 4,
                    name: "فاطمه حسینی",
                    phone: "07701234567",
                    email: "fatima@example.com",
                    password: "123456",
                    role: "customer",
                    nationalId: "5566778899",
                    joinDate: "۱۴۰۲/۰۴/۰۵",
                    gender: "female",
                    status: "active"
                },
                {
                    id: 5,
                    name: "مدیر سیستم",
                    phone: "07800000000",
                    email: "admin@afghanstore.af",
                    password: "admin123",
                    role: "admin",
                    nationalId: "0000000000",
                    joinDate: "۱۴۰۲/۰۱/۰۱",
                    gender: "male",
                    status: "active"
                }
            ],
            
            // اطلاعات دسته‌بندی‌ها
            categories: [
                { id: 1, name: "موبایل و تبلت", icon: "fas fa-mobile-alt", color: "#3498db", slug: "mobile", count: 1250, status: "active" },
                { id: 2, name: "لپ‌تاپ و کامپیوتر", icon: "fas fa-laptop", color: "#2ecc71", slug: "laptop", count: 680, status: "active" },
                { id: 3, name: "پوشاک مردانه", icon: "fas fa-male", color: "#e74c3c", slug: "men-clothing", count: 2350, status: "active" },
                { id: 4, name: "پوشاک زنانه", icon: "fas fa-female", color: "#9b59b6", slug: "women-clothing", count: 3100, status: "active" },
                { id: 5, name: "کیف و کفش", icon: "fas fa-shopping-bag", color: "#1abc9c", slug: "bags-shoes", count: 1890, status: "active" },
                { id: 6, name: "خانه و آشپزخانه", icon: "fas fa-home", color: "#f1c40f", slug: "home-kitchen", count: 4250, status: "active" },
                { id: 7, name: "زیبایی و سلامت", icon: "fas fa-spa", color: "#e67e22", slug: "beauty-health", count: 2750, status: "active" },
                { id: 8, name: "کتاب و لوازم تحریر", icon: "fas fa-book", color: "#34495e", slug: "books-stationery", count: 1580, status: "active" },
                { id: 9, name: "اسباب‌بازی و کودک", icon: "fas fa-child", color: "#8e44ad", slug: "toys-kids", count: 980, status: "active" },
                { id: 10, name: "خودرو و موتور", icon: "fas fa-car", color: "#16a085", slug: "auto-moto", count: 750, status: "active" }
            ],
            
            // اطلاعات محصولات
            featuredProducts: [
                { 
                    id: 1, 
                    name: "گوشی موبایل سامسونگ گلکسی A54 دو سیم‌کارت 128GB", 
                    price: 18500000, 
                    oldPrice: 22000000, 
                    image: "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "new", 
                    rating: 4.5,
                    category: "موبایل و تبلت",
                    description: "گوشی سامسونگ گلکسی A54 با پردازنده قدرتمند Exynos 1380، حافظه 128 گیگابایت، رم 8 گیگابایت، باتری 5000 میلی‌آمپر با شارژ 25 وات و دوربین سه گانه 50 مگاپیکسلی اصلی + 12 مگاپیکسل اولترا واید + 5 مگاپیکسل ماکرو. نمایشگر 6.4 اینچی Super AMOLED با نرخ تازه‌سازی 120 هرتز.",
                    colors: ["مشکی", "سفید", "آبی", "بنفش"],
                    storage: ["128GB", "256GB"],
                    brand: "samsung",
                    inStock: true,
                    discount: 15,
                    stock: 50,
                    sku: "SM-A546-128",
                    status: "active"
                },
                { 
                    id: 2, 
                    name: "هدفون بی‌سیم Sony WH-1000XM4 نویزکنسلینگ", 
                    price: 3200000, 
                    oldPrice: 3800000, 
                    image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "discount", 
                    rating: 4.8,
                    category: "کالای دیجیتال",
                    description: "هدفون حرفه‌ای Sony WH-1000XM4 با نویزکنسلینگ فعال پیشرفته، پردازنده HD QN1، باتری 30 ساعته با 10 دقیقه شارژ برای 5 ساعت استفاده، کیفیت صدای Hi-Res Audio، کنترل لمسی و میکروفون با حذف نویز.",
                    colors: ["مشکی", "نقره‌ای", "طلایی"],
                    brand: "sony",
                    inStock: true,
                    discount: 18,
                    stock: 25,
                    sku: "SONY-WH1000XM4",
                    status: "active"
                },
                { 
                    id: 3, 
                    name: "لپ‌تاپ ایسوس ویووبوک 15 اینچ مدل 2023", 
                    price: 28500000, 
                    oldPrice: 32000000, 
                    image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "hot", 
                    rating: 4.3,
                    category: "لپ‌تاپ و کامپیوتر",
                    description: "لپ‌تاپ ایسوس ویووبوک 15 اینچ با پردازنده Intel Core i7 نسل 13، رم 16 گیگابایت DDR4، هارد 512 گیگابایت SSD NVMe، گرافیک Intel Iris Xe، نمایشگر IPS Full HD با قاب باریک، وزن 1.7 کیلوگرم و باتری 50 وات‌ساعت.",
                    storage: ["512GB SSD", "1TB SSD"],
                    brand: "asus",
                    inStock: true,
                    discount: 12,
                    stock: 15,
                    sku: "ASUS-VIVOBOOK15",
                    status: "active"
                },
                { 
                    id: 4, 
                    name: "کفش ورزشی نایک ایرفورس مدل 2023", 
                    price: 1650000, 
                    oldPrice: 2100000, 
                    image: "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "discount", 
                    rating: 4.2,
                    category: "کیف و کفش",
                    description: "کفش ورزشی نایک ایرفورس 2023 با کفی Air-Sole برای راحتی بیشتر، رویه چرمی و مش برای تنفس بهتر، طراحی کلاسیک و مدرن، مناسب برای ورزش، پیاده‌روی و استفاده روزمره.",
                    sizes: ["38", "39", "40", "41", "42", "43", "44"],
                    colors: ["سفید", "مشکی", "آبی", "قرمز"],
                    brand: "nike",
                    inStock: true,
                    discount: 22,
                    stock: 100,
                    sku: "NIKE-AF1-2023",
                    status: "active"
                }
            ],
            
            newProducts: [
                { 
                    id: 5, 
                    name: "ساعت هوشمند اپل واچ سری 8 45mm", 
                    price: 12500000, 
                    oldPrice: 15000000, 
                    image: "https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70", 
                    badge: "new", 
                    rating: 4.7,
                    category: "کالای دیجیتال",
                    description: "ساعت هوشمند اپل واچ سری 8 با نمایشگر همیشه روشن Retina، تراشه S8، مانیتورینگ سلامت پیشرفته شامل ECG، اندازه‌گیری اکسیژن خون، ردیابی خواب، GPS، مقاوم در برابر آب تا 50 متر و باتری 18 ساعته.",
                    colors: ["مشکی", "نقره‌ای", "طلایی", "آبی دریایی"],
                    brand: "apple",
                    inStock: true,
                    discount: 17,
                    stock: 30,
                    sku: "APPLE-WATCH-8",
                    status: "active"
                },
                { 
                    id: 6, 
                    name: "دوربین عکاسی کانن EOS 2000D با لنز 18-55mm", 
                    price: 18500000, 
                    oldPrice: 22000000, 
                    image: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70", 
                    badge: "hot", 
                    rating: 4.4,
                    category: "دوربین و عکاسی",
                    description: "دوربین DSLR کانن EOS 2000D برای عکاسان مبتدی، با سنسور 24.1 مگاپیکسلی APS-C، پردازشگر DIGIC 4+، فیلم Full HD 1080p، Wi-Fi و NFC داخلی، نمایشگر 3 اینچی و حالت اتوماتیک هوشمند.",
                    brand: "canon",
                    inStock: true,
                    discount: 16,
                    stock: 20,
                    sku: "CANON-EOS2000D",
                    status: "active"
                }
            ],
            
            // برندها
            brands: [
                { id: 1, name: "Samsung", logo: "https://upload.wikimedia.org/wikipedia/commons/2/24/Samsung_Logo.svg", status: "active" },
                { id: 2, name: "Apple", logo: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg", status: "active" },
                { id: 3, name: "Nike", logo: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg", status: "active" },
                { id: 4, name: "Sony", logo: "https://upload.wikimedia.org/wikipedia/commons/c/ca/Sony_logo.svg", status: "active" },
                { id: 5, name: "LG", logo: "https://upload.wikimedia.org/wikipedia/commons/2/20/LG_symbol.svg", status: "active" }
            ],
            
            // شهرها
            cities: [
                "کابل", "هرات", "قندهار", "مزارشریف", "جلال‌آباد", "غزنی", "بلخ", "پکتیا", 
                "کندز", "بادغیس", "تخار", "ننگرهار", "پروان", "فراه", "هلمند", "لوگر",
                "کاپیسا", "پکتیکا", "ارزگان", "نیمروز", "سمنگان", "بغلان", "بدخشان", "بامیان"
            ],
            
            // نظرات مشتریان
            testimonials: [
                {
                    id: 1,
                    name: "احمد رحیمی",
                    city: "کابل",
                    rating: 5,
                    text: "خریدی عالی از فروشگاه افغانستان داشتم. محصول به موقع و با بسته‌بندی عالی تحویل داده شد. کیفیت کالا دقیقاً مطابق توضیحات سایت بود. پشتیبانی نیز پاسخگوی سوالاتم بودند.",
                    date: "۲ هفته پیش",
                    product: "گوشی سامسونگ A54",
                    status: "approved"
                },
                {
                    id: 2,
                    name: "زهرا محمدی",
                    city: "هرات",
                    rating: 4,
                    text: "پشتیبانی عالی و پاسخگویی سریع. محصول مورد نظر موجود نبود ولی کالای جایگزین با کیفیت بهتر و قیمت مناسب پیشنهاد دادند. ارسال به هرات تنها ۲ روز طول کشید.",
                    date: "۱ ماه پیش",
                    product: "هدفون سونی",
                    status: "approved"
                }
            ],
            
            // مقالات وبلاگ
            blogPosts: [
                {
                    id: 1,
                    title: "چگونه گوشی موبایل مناسب را انتخاب کنیم؟ راهنمای کامل 2023",
                    excerpt: "راهنمای کامل برای انتخاب بهترین گوشی موبایل بر اساس نیاز، بودجه و کاربرد شما. مقایسه برندها، مشخصات فنی مهم و نکات خرید هوشمند.",
                    image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    date: "۱۴۰۲/۰۵/۱۰",
                    readTime: "۸ دقیقه",
                    category: "الکترونیک",
                    status: "published"
                },
                {
                    id: 2,
                    title: "۱۰ نکته طلایی برای خرید اینترنتی امن در افغانستان",
                    excerpt: "راهکارهای مهم و ضروری برای خرید اینترنتی ایمن و جلوگیری از کلاهبرداری آنلاین در افغانستان. شناخت سایت‌های معتبر و روش‌های پرداخت امن.",
                    image: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70",
                    date: "۱۴۰۲/۰۴/۲۸",
                    readTime: "۷ دقیقه",
                    category: "امنیت",
                    status: "published"
                }
            ],
            
            // آدرس‌های کاربران
            userAddresses: [
                {
                    id: 1,
                    userId: 2,
                    title: "آدرس منزل",
                    city: "کابل",
                    area: "کارته سخی",
                    address: "خیابان اول، کوچه پنجم، پلاک ۱۲، درب سوم",
                    postalCode: "1001",
                    phone: "07801234567",
                    isDefault: true
                },
                {
                    id: 2,
                    userId: 2,
                    title: "آدرس محل کار",
                    city: "کابل",
                    area: "وزیر اکبرخان",
                    address: "خیابان سوم، ساختمان مرکزی تجارت، طبقه ۴، واحد ۴۰۱",
                    postalCode: "1002",
                    phone: "07901234567",
                    isDefault: false
                }
            ],
            
            // سفارشات
            userOrders: [
                {
                    id: "ORD-2023-001",
                    userId: 2,
                    date: "۱۴۰۲/۰۵/۱۵",
                    items: 3,
                    total: 24500000,
                    status: "delivered",
                    paymentMethod: "cash",
                    addressId: 1,
                    products: [
                        { name: "گوشی سامسونگ A54", price: 18500000, quantity: 1 },
                        { name: "کاور گوشی", price: 150000, quantity: 2 },
                        { name: "گلس گوشی", price: 80000, quantity: 2 }
                    ]
                },
                {
                    id: "ORD-2023-002",
                    userId: 2,
                    date: "۱۴۰۲/۰۵/۱۰",
                    items: 1,
                    total: 8500000,
                    status: "processing",
                    paymentMethod: "online",
                    addressId: 1,
                    products: [
                        { name: "لپ‌تاپ ایسوس", price: 8500000, quantity: 1 }
                    ]
                }
            ],
            
            // تخفیف‌ها
            discounts: [
                {
                    id: 1,
                    title: "تخفیف ۳۰٪ پوشاک مردانه",
                    code: "MEN30",
                    percent: 30,
                    description: "تخفیف ویژه روی تمام محصولات پوشاک مردانه",
                    expireDate: "۱۴۰۲/۰۵/۳۰",
                    minPurchase: 500000,
                    status: "active"
                },
                {
                    id: 2,
                    title: "تخفیف ۲۵٪ الکترونیک",
                    code: "TECH25",
                    percent: 25,
                    description: "تخفیف روی لوازم الکترونیکی و دیجیتال",
                    expireDate: "۱۴۰۲/۰۶/۱۵",
                    minPurchase: 1000000,
                    status: "active"
                }
            ],
            
            // محصولات پیشنهادی
            recommendedProducts: [
                { 
                    id: 7, 
                    name: "اسپیکر بلوتوث JBL Flip 5", 
                    price: 850000, 
                    oldPrice: 1100000, 
                    image: "https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "hot", 
                    rating: 4.5,
                    category: "کالای دیجیتال",
                    stock: 40,
                    status: "active"
                },
                { 
                    id: 8, 
                    name: "مبل راحتی 3 نفره مدرن", 
                    price: 12500000, 
                    oldPrice: 15500000, 
                    image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", 
                    badge: "new", 
                    rating: 4.7,
                    category: "خانه و آشپزخانه",
                    stock: 10,
                    status: "active"
                }
            ]
        };

        // وضعیت برنامه
        let appState = {
            cart: [],
            currentCity: "کابل",
            checkoutStep: 1,
            currentPage: "home",
            currentProduct: null,
            user: null,
            selectedAddress: null,
            selectedPayment: null,
            filters: {
                price: null,
                brand: null,
                rating: null,
                status: null
            },
            compareProducts: [],
            wishlist: [],
            adminCurrentSection: "dashboard"
        };

        // DOM Elements
        const elements = {
            // هدر
            locationBtn: document.getElementById('locationBtn'),
            currentCity: document.getElementById('currentCity'),
            searchInput: document.getElementById('searchInput'),
            searchBtn: document.getElementById('searchBtn'),
            cartBtn: document.getElementById('cartBtn'),
            cartCount: document.getElementById('cartCount'),
            accountBtn: document.getElementById('accountBtn'),
            adminBtn: document.getElementById('adminBtn'),
            mobileNavBtn: document.getElementById('mobileNavBtn'),
            navLinks: document.getElementById('navLinks'),
            
            // صفحات
            homePage: document.getElementById('homePage'),
            productPage: document.getElementById('productPage'),
            checkoutSection: document.getElementById('checkoutSection'),
            accountPage: document.getElementById('accountPage'),
            adminPanel: document.getElementById('adminPanel'),
            compareSection: document.getElementById('compareSection'),
            
            // مودال‌ها
            locationModal: document.getElementById('locationModal'),
            closeLocationModal: document.getElementById('closeLocationModal'),
            cartModal: document.getElementById('cartModal'),
            closeCartModal: document.getElementById('closeCartModal'),
            loginModal: document.getElementById('loginModal'),
            closeLoginModal: document.getElementById('closeLoginModal'),
            registerModal: document.getElementById('registerModal'),
            closeRegisterModal: document.getElementById('closeRegisterModal'),
            forgotPasswordModal: document.getElementById('forgotPasswordModal'),
            closeForgotPasswordModal: document.getElementById('closeForgotPasswordModal'),
            addressModal: document.getElementById('addressModal'),
            closeAddressModal: document.getElementById('closeAddressModal'),
            productQuickView: document.getElementById('productQuickView'),
            closeQuickView: document.getElementById('closeQuickView'),
            adminProductModal: document.getElementById('adminProductModal'),
            closeAdminProductModal: document.getElementById('closeAdminProductModal'),
            
            // محتوا
            categoriesGrid: document.getElementById('categoriesGrid'),
            featuredProducts: document.getElementById('featuredProducts'),
            newProducts: document.getElementById('newProducts'),
            brandsSlider: document.getElementById('brandsSlider'),
            testimonialsSlider: document.getElementById('testimonialsSlider'),
            blogGrid: document.getElementById('blogGrid'),
            discountCards: document.getElementById('discountCards'),
            recommendedSlider: document.getElementById('recommendedSlider'),
            compareTable: document.getElementById('compareTable'),
            backToTop: document.getElementById('backToTop'),
            
            // نوتیفیکیشن
            notification: document.getElementById('notification'),
            notificationText: document.getElementById('notificationText')
        };

        // توابع عمومی
        function showNotification(message, type = "success") {
            elements.notificationText.textContent = message;
            elements.notification.style.background = type === "success" ? "var(--accent-color)" : 
                                                     type === "error" ? "#e74c3c" : 
                                                     type === "warning" ? "#f39c12" : 
                                                     type === "info" ? "var(--primary-color)" : 
                                                     "var(--accent-color)";
            elements.notification.classList.add('show');
            
            setTimeout(() => {
                elements.notification.classList.remove('show');
            }, 3500);
        }

        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + " افغانی";
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function showLoginModal() {
            closeModal('registerModal');
            closeModal('forgotPasswordModal');
            openModal('loginModal');
        }

        function showRegisterModal() {
            closeModal('loginModal');
            openModal('registerModal');
        }

        function showForgotPasswordModal() {
            closeModal('loginModal');
            openModal('forgotPasswordModal');
        }

        // مدیریت سبد خرید
        function addToCart(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            const existingItem = appState.cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                appState.cart.push({
                    ...product,
                    quantity: 1,
                    selectedColor: product.colors ? product.colors[0] : null,
                    selectedSize: product.sizes ? product.sizes[0] : null,
                    selectedStorage: product.storage ? product.storage[0] : null
                });
            }
            
            updateCartDisplay();
            showNotification(`«${product.name.substring(0, 30)}...» به سبد خرید اضافه شد`, "success");
        }

        function removeFromCart(productId) {
            appState.cart = appState.cart.filter(item => item.id !== productId);
            updateCartDisplay();
            showNotification("محصول از سبد خرید حذف شد", "info");
        }

        function updateCartDisplay() {
            // به‌روزرسانی تعداد
            const totalItems = appState.cart.reduce((sum, item) => sum + item.quantity, 0);
            elements.cartCount.textContent = totalItems;
            
            // به‌روزرسانی مودال سبد خرید
            const cartItems = document.getElementById('cartItems');
            const cartSummary = document.getElementById('cartSummary');
            
            if (appState.cart.length === 0) {
                cartItems.innerHTML = `
                    <div style="text-align: center; padding: 40px 0;">
                        <i class="fas fa-shopping-cart" style="font-size: 3.5rem; color: #ddd; margin-bottom: 20px;"></i>
                        <p style="font-size: 1.1rem; color: #777; margin-bottom: 5px;">سبد خرید شما خالی است</p>
                        <p style="font-size: 0.9rem; color: #999; margin-bottom: 20px;">می‌توانید محصولات مورد نظر خود را به سبد خرید اضافه کنید</p>
                        <button class="btn btn-primary" style="padding: 12px 30px;" onclick="closeModal('cartModal')">
                            <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i>مشاهده محصولات
                        </button>
                    </div>
                `;
                cartSummary.style.display = 'none';
            } else {
                let cartHTML = '';
                let totalPrice = 0;
                
                appState.cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    totalPrice += itemTotal;
                    
                    cartHTML += `
                        <div style="border-bottom: 1px solid var(--border-color); padding: 20px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="display: flex; align-items: flex-start; gap: 15px; flex: 1;">
                                    <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px; border: 1px solid #eee;">
                                    <div style="flex: 1;">
                                        <div style="font-size: 0.95rem; font-weight: 600; margin-bottom: 8px; color: var(--dark-color);">${item.name.substring(0, 45)}${item.name.length > 45 ? '...' : ''}</div>
                                        <div style="font-size: 0.85rem; color: var(--text-light); margin-bottom: 8px;">
                                            ${item.selectedColor ? `<span style="background: #f0f0f0; padding: 3px 8px; border-radius: 4px; margin-left: 5px;">رنگ: ${item.selectedColor}</span>` : ''}
                                            ${item.selectedSize ? `<span style="background: #f0f0f0; padding: 3px 8px; border-radius: 4px; margin-left: 5px;">سایز: ${item.selectedSize}</span>` : ''}
                                            ${item.selectedStorage ? `<span style="background: #f0f0f0; padding: 3px 8px; border-radius: 4px; margin-left: 5px;">حافظه: ${item.selectedStorage}</span>` : ''}
                                        </div>
                                        <div style="font-size: 0.9rem; color: var(--primary-color); font-weight: 700;">${formatPrice(item.price)}</div>
                                    </div>
                                </div>
                                <button onclick="removeFromCart(${item.id})" style="background: none; border: none; color: var(--danger-color); cursor: pointer; font-size: 1.5rem; padding: 0 10px; transition: var(--transition);" title="حذف از سبد">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 10px; background: #f5f5f5; padding: 8px 15px; border-radius: 8px;">
                                    <button onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})" style="background: none; border: none; color: #777; cursor: pointer; font-size: 1.2rem; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: var(--transition);" title="کاهش">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <span style="font-weight: 600; min-width: 40px; text-align: center; font-size: 1.1rem;">${item.quantity}</span>
                                    <button onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})" style="background: none; border: none; color: #777; cursor: pointer; font-size: 1.2rem; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: var(--transition);" title="افزایش">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <div style="font-weight: 700; color: var(--dark-color); font-size: 1.1rem;">${formatPrice(itemTotal)}</div>
                            </div>
                        </div>
                    `;
                });
                
                cartItems.innerHTML = cartHTML;
                cartSummary.style.display = 'block';
                document.getElementById('cartTotalPrice').textContent = formatPrice(totalPrice);
            }
        }

        function updateCartQuantity(productId, quantity) {
            const item = appState.cart.find(item => item.id === productId);
            if (item) {
                if (quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    item.quantity = quantity;
                    updateCartDisplay();
                }
            }
        }

        // مدیریت صفحات
        function showHomePage() {
            hideAllPages();
            elements.homePage.style.display = 'block';
            appState.currentPage = "home";
            updateActiveNavLink('home');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showProductDetail(productId) {
            hideAllPages();
            elements.productPage.style.display = 'block';
            appState.currentPage = "product";
            
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            appState.currentProduct = product;
            
            const productHTML = `
                <div class="product-detail">
                    <div class="product-gallery">
                        <div class="main-image">
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div class="thumbnails">
                            <div class="thumbnail active">
                                <img src="${product.image}" alt="${product.name}">
                            </div>
                            <div class="thumbnail">
                                <img src="https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70" alt="تصویر ۲">
                            </div>
                            <div class="thumbnail">
                                <img src="https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70" alt="تصویر ۳">
                            </div>
                            <div class="thumbnail">
                                <img src="https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=70" alt="تصویر ۴">
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-info-detail">
                        <h1>${product.name}</h1>
                        
                        <div class="product-rating-detail">
                            <div style="color: #f39c12; font-size: 1.2rem;">
                                ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                            </div>
                            <span style="color: var(--text-light); font-size: 0.95rem;">(${product.rating} از ۵ - ${Math.floor(Math.random() * 100) + 50} نظر)</span>
                            <span style="color: var(--text-light); font-size: 0.95rem;">دسته‌بندی: ${product.category}</span>
                            <span style="color: var(--text-light); font-size: 0.95rem;">برند: ${product.brand ? product.brand.charAt(0).toUpperCase() + product.brand.slice(1) : 'نامشخص'}</span>
                        </div>
                        
                        <div class="product-price-detail">
                            ${product.oldPrice ? `<span class="product-old-price">${formatPrice(product.oldPrice)}</span>` : ''}
                            <span>${formatPrice(product.price)}</span>
                            ${product.discount ? `<span style="background: var(--accent-color); color: white; padding: 5px 12px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-right: 15px;">${product.discount}% تخفیف</span>` : ''}
                        </div>
                        
                        <div class="product-description">
                            ${product.description || "توضیحات کامل محصول در این قسمت نمایش داده می‌شود. این محصول با کیفیت بالا و گارانتی معتبر ارائه می‌شود."}
                        </div>
                        
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 15px; background: #f9f9f9; border-radius: 10px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-check-circle" style="color: var(--accent-color);"></i>
                                <span>موجود در انبار</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-shipping-fast" style="color: var(--primary-color);"></i>
                                <span>ارسال رایگان</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-shield-alt" style="color: var(--info-color);"></i>
                                <span>۷ روز گارانتی بازگشت</span>
                            </div>
                        </div>
                        
                        ${product.colors ? `
                        <div class="product-options">
                            <div class="option-group">
                                <div class="option-label">انتخاب رنگ:</div>
                                <div class="option-buttons" id="colorOptions">
                                    ${product.colors.map((color, index) => `
                                        <button class="option-btn ${index === 0 ? 'selected' : ''}" onclick="selectProductOption('color', '${color}')">${color}</button>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${product.sizes ? `
                        <div class="product-options">
                            <div class="option-group">
                                <div class="option-label">انتخاب سایز:</div>
                                <div class="option-buttons" id="sizeOptions">
                                    ${product.sizes.map((size, index) => `
                                        <button class="option-btn ${index === 0 ? 'selected' : ''}" onclick="selectProductOption('size', '${size}')">${size}</button>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${product.storage ? `
                        <div class="product-options">
                            <div class="option-group">
                                <div class="option-label">انتخاب حافظه:</div>
                                <div class="option-buttons" id="storageOptions">
                                    ${product.storage.map((storage, index) => `
                                        <button class="option-btn ${index === 0 ? 'selected' : ''}" onclick="selectProductOption('storage', '${storage}')">${storage}</button>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="quantity-selector">
                            <div class="option-label" style="margin-bottom: 0;">تعداد:</div>
                            <button class="quantity-btn" onclick="updateProductQuantity(-1)"><i class="fas fa-minus"></i></button>
                            <span class="quantity-value" id="productQuantity">1</span>
                            <button class="quantity-btn" onclick="updateProductQuantity(1)"><i class="fas fa-plus"></i></button>
                        </div>
                        
                        <div class="product-actions-detail">
                            <button class="btn btn-buy" onclick="addToCartAndGo(${product.id})">
                                <i class="fas fa-cart-plus" style="margin-left: 8px;"></i> افزودن به سبد خرید
                            </button>
                            <button class="btn btn-primary" onclick="addToWishlist(${product.id})">
                                <i class="far fa-heart" style="margin-left: 8px;"></i> افزودن به علاقه‌مندی‌ها
                            </button>
                            <button class="btn btn-secondary" onclick="addToCompare(${product.id})">
                                <i class="fas fa-balance-scale" style="margin-left: 8px;"></i> مقایسه
                            </button>
                        </div>
                        
                        <div class="product-specs">
                            <h3>مشخصات فنی</h3>
                            <div class="specs-grid">
                                <div class="spec-item">
                                    <span class="spec-label">برند:</span>
                                    <span class="spec-value">${product.brand ? product.brand.charAt(0).toUpperCase() + product.brand.slice(1) : 'نامشخص'}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">دسته‌بندی:</span>
                                    <span class="spec-value">${product.category}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">گارانتی:</span>
                                    <span class="spec-value">۱۸ ماه گارانتی شرکتی</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">خدمات پس از فروش:</span>
                                    <span class="spec-value">دارد</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">کشور سازنده:</span>
                                    <span class="spec-value">${product.brand === 'apple' ? 'آمریکا' : product.brand === 'samsung' ? 'کره جنوبی' : product.brand === 'xiaomi' ? 'چین' : 'متفرقه'}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">موجودی:</span>
                                    <span class="spec-value" style="color: var(--accent-color); font-weight: 700;">${product.inStock ? 'در انبار موجود است' : 'ناموجود'}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">زمان تحویل:</span>
                                    <span class="spec-value">۲۴ تا ۷۲ ساعت در ${appState.currentCity}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">امتیاز محصول:</span>
                                    <span class="spec-value">${product.rating} از ۵</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            elements.productPage.innerHTML = productHTML;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function selectProductOption(type, value) {
            if (!appState.currentProduct) return;
            
            // Update button selection
            document.querySelectorAll(`#${type}Options .option-btn`).forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            // Update in cart if product is in cart
            const cartItem = appState.cart.find(item => item.id === appState.currentProduct.id);
            if (cartItem) {
                cartItem[`selected${type.charAt(0).toUpperCase() + type.slice(1)}`] = value;
                updateCartDisplay();
            }
        }

        function updateProductQuantity(change) {
            const quantityElement = document.getElementById('productQuantity');
            let quantity = parseInt(quantityElement.textContent) + change;
            if (quantity < 1) quantity = 1;
            quantityElement.textContent = quantity;
        }

        function addToCartAndGo(productId) {
            const quantity = parseInt(document.getElementById('productQuantity').textContent);
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            // Get selected options
            const selectedColor = document.querySelector('#colorOptions .option-btn.selected')?.textContent;
            const selectedSize = document.querySelector('#sizeOptions .option-btn.selected')?.textContent;
            const selectedStorage = document.querySelector('#storageOptions .option-btn.selected')?.textContent;
            
            const existingItem = appState.cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                appState.cart.push({
                    ...product,
                    quantity: quantity,
                    selectedColor: selectedColor || null,
                    selectedSize: selectedSize || null,
                    selectedStorage: selectedStorage || null
                });
            }
            
            updateCartDisplay();
            showNotification(`«${product.name.substring(0, 30)}...» به سبد خرید اضافه شد`, "success");
            openModal('cartModal');
        }

        // علاقه‌مندی‌ها و مقایسه
        function addToWishlist(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            if (!appState.wishlist.find(item => item.id === productId)) {
                appState.wishlist.push(product);
                showNotification(`«${product.name.substring(0, 30)}...» به لیست علاقه‌مندی‌ها اضافه شد`, "success");
            } else {
                showNotification("این محصول قبلاً به علاقه‌مندی‌ها اضافه شده است", "info");
            }
        }

        function addToCompare(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            if (appState.compareProducts.length >= 4) {
                showNotification("حداکثر ۴ محصول را می‌توانید مقایسه کنید", "warning");
                return;
            }
            
            if (!appState.compareProducts.find(item => item.id === productId)) {
                appState.compareProducts.push(product);
                showNotification(`«${product.name.substring(0, 30)}...» به لیست مقایسه اضافه شد`, "success");
                updateCompareButton();
            } else {
                showNotification("این محصول قبلاً به لیست مقایسه اضافه شده است", "info");
            }
        }

        function updateCompareButton() {
            const compareNavLink = document.querySelector('.nav-link[onclick="showCompareSection()"]');
            if (compareNavLink) {
                const count = appState.compareProducts.length;
                compareNavLink.innerHTML = `<i class="fas fa-balance-scale" style="margin-left: 8px;"></i>مقایسه ${count > 0 ? `(${count})` : ''}`;
            }
        }

        // مدیریت حساب کاربری
        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!username || !password) {
                showNotification("لطفاً شماره موبایل/ایمیل و رمز عبور را وارد کنید", "warning");
                return;
            }
            
            // جستجوی کاربر
            const user = appData.users.find(u => 
                (u.phone === username || u.email === username) && u.password === password
            );
            
            if (!user) {
                showNotification("شماره موبایل/ایمیل یا رمز عبور اشتباه است", "error");
                return;
            }
            
            if (user.status !== "active") {
                showNotification("حساب کاربری شما غیرفعال است", "warning");
                return;
            }
            
            // ذخیره کاربر در وضعیت برنامه
            appState.user = user;
            
            // بستن مودال و نمایش پیام
            closeModal('loginModal');
            showNotification(`خوش آمدید ${appState.user.name} عزیز!`, "success");
            
            // به‌روزرسانی دکمه حساب کاربری
            updateAccountButton();
            
            // نمایش دکمه مدیریت برای ادمین
            if (appState.user.role === "admin") {
                elements.adminBtn.style.display = "flex";
            }
        }

        function loginAsAdmin() {
            // اطلاعات ورود پیش‌فرض برای ادمین
            document.getElementById('loginUsername').value = "admin@afghanstore.af";
            document.getElementById('loginPassword').value = "admin123";
            login();
        }

        function register() {
            const name = document.getElementById('registerName').value;
            const phone = document.getElementById('registerPhone').value;
            const email = document.getElementById('registerEmail').value;
            const nationalId = document.getElementById('registerNationalId').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            const acceptTerms = document.getElementById('acceptTerms').checked;
            
            if (!name || !phone || !password) {
                showNotification("لطفاً فیلدهای ضروری را پر کنید", "warning");
                return;
            }
            
            if (phone.length < 10) {
                showNotification("شماره موبایل معتبر نیست", "warning");
                return;
            }
            
            if (password.length < 6) {
                showNotification("رمز عبور باید حداقل ۶ کاراکتر باشد", "warning");
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification("رمز عبور و تکرار آن مطابقت ندارند", "error");
                return;
            }
            
            if (!acceptTerms) {
                showNotification("لطفاً با قوانین و مقررات موافقت کنید", "warning");
                return;
            }
            
            // بررسی تکراری نبودن شماره موبایل
            if (appData.users.find(u => u.phone === phone)) {
                showNotification("این شماره موبایل قبلاً ثبت شده است", "warning");
                return;
            }
            
            // ایجاد کاربر جدید
            const newUser = {
                id: appData.users.length + 1,
                name: name,
                phone: phone,
                email: email || null,
                password: password,
                role: "customer",
                nationalId: nationalId || null,
                joinDate: new Date().toLocaleDateString('fa-IR'),
                gender: null,
                status: "active"
            };
            
            appData.users.push(newUser);
            appState.user = newUser;
            
            closeModal('registerModal');
            showNotification("حساب کاربری شما با موفقیت ایجاد شد!", "success");
            
            updateAccountButton();
        }

        function sendResetPassword() {
            const username = document.getElementById('forgotUsername').value;
            
            if (!username) {
                showNotification("لطفاً شماره موبایل یا ایمیل خود را وارد کنید", "warning");
                return;
            }
            
            // شبیه‌سازی ارسال لینک بازیابی
            showNotification("لینک بازیابی رمز عبور به شماره موبایل/ایمیل شما ارسال شد", "success");
            closeModal('forgotPasswordModal');
            showLoginModal();
        }

        function logout() {
            appState.user = null;
            showHomePage();
            
            // بازنشانی دکمه حساب کاربری
            updateAccountButton();
            
            // مخفی کردن دکمه مدیریت
            elements.adminBtn.style.display = "none";
            
            showNotification("از حساب کاربری خود خارج شدید", "info");
        }

        function updateAccountButton() {
            if (appState.user) {
                elements.accountBtn.innerHTML = `
                    <i class="fas fa-user action-icon"></i>
                    <span>${appState.user.name.split(' ')[0]}</span>
                `;
            } else {
                elements.accountBtn.innerHTML = `
                    <i class="fas fa-user action-icon"></i>
                    <span>حساب کاربری</span>
                `;
            }
        }

        // نمایش صفحه حساب کاربری
        function showAccountPage(section = 'dashboard') {
            if (!appState.user) {
                openModal('loginModal');
                showNotification("لطفاً ابتدا وارد حساب کاربری خود شوید", "warning");
                return;
            }
            
            hideAllPages();
            elements.accountPage.style.display = 'block';
            appState.currentPage = "account";
            updateActiveNavLink('account');
            
            loadAccountPage(section);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function loadAccountPage(section) {
            // محتوای صفحه حساب کاربری
            const accountHTML = `
                <div class="account-container">
                    <div class="account-sidebar">
                        <div class="account-user">
                            <div class="user-avatar">${appState.user.name.charAt(0)}</div>
                            <div>
                                <div style="font-weight: 700; font-size: 1.1rem;">${appState.user.name}</div>
                                <div style="font-size: 0.9rem; color: var(--text-light); margin-top: 5px;">${appState.user.phone}</div>
                                <div style="font-size: 0.8rem; color: var(--text-light);">عضو از ${appState.user.joinDate || '۱۴۰۲/۰۱/۱۵'}</div>
                            </div>
                        </div>
                        
                        <ul class="account-menu">
                            <li><a href="#" class="${section === 'dashboard' ? 'active' : ''}" onclick="showAccountSection('dashboard')"><i class="fas fa-home"></i> داشبورد</a></li>
                            <li><a href="#" class="${section === 'orders' ? 'active' : ''}" onclick="showAccountSection('orders')"><i class="fas fa-shopping-bag"></i> سفارش‌های من</a></li>
                            <li><a href="#" class="${section === 'addresses' ? 'active' : ''}" onclick="showAccountSection('addresses')"><i class="fas fa-map-marker-alt"></i> آدرس‌های من</a></li>
                            <li><a href="#" class="${section === 'wishlist' ? 'active' : ''}" onclick="showAccountSection('wishlist')"><i class="fas fa-heart"></i> علاقه‌مندی‌ها</a></li>
                            <li><a href="#" class="${section === 'profile' ? 'active' : ''}" onclick="showAccountSection('profile')"><i class="fas fa-user"></i> اطلاعات حساب</a></li>
                            <li><a href="#" onclick="logout()" style="color: var(--danger-color);"><i class="fas fa-sign-out-alt"></i> خروج از حساب</a></li>
                        </ul>
                    </div>
                    
                    <div class="account-content">
                        <div id="accountDashboard" class="account-section ${section === 'dashboard' ? 'active' : ''}">
                            <h3 class="section-title-account">داشبورد حساب کاربری</h3>
                            <p style="color: var(--text-light); margin-bottom: 25px;">خوش آمدید ${appState.user.name} عزیز! از طریق این پنل می‌توانید سفارشات، آدرس‌ها و اطلاعات حساب خود را مدیریت کنید.</p>
                            
                            <div class="dashboard-stats">
                                <div class="stat-card">
                                    <div class="stat-value">${appData.userOrders.filter(o => o.userId === appState.user.id).length}</div>
                                    <div class="stat-label">تعداد سفارش‌ها</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">${appData.userAddresses.filter(a => a.userId === appState.user.id).length}</div>
                                    <div class="stat-label">آدرس‌های ثبت شده</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">${appState.wishlist.length}</div>
                                    <div class="stat-label">علاقه‌مندی‌ها</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">${appData.discounts.length}</div>
                                    <div class="stat-label">کوپن‌های فعال</div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="accountOrders" class="account-section ${section === 'orders' ? 'active' : ''}">
                            <h3 class="section-title-account">سفارش‌های من</h3>
                            ${loadAccountOrders()}
                        </div>
                        
                        <div id="accountAddresses" class="account-section ${section === 'addresses' ? 'active' : ''}">
                            <h3 class="section-title-account">آدرس‌های من</h3>
                            ${loadAccountAddresses()}
                        </div>
                        
                        <div id="accountWishlist" class="account-section ${section === 'wishlist' ? 'active' : ''}">
                            <h3 class="section-title-account">لیست علاقه‌مندی‌ها</h3>
                            ${loadAccountWishlist()}
                        </div>
                        
                        <div id="accountProfile" class="account-section ${section === 'profile' ? 'active' : ''}">
                            <h3 class="section-title-account">اطلاعات حساب کاربری</h3>
                            ${loadAccountProfile()}
                        </div>
                    </div>
                </div>
            `;
            
            elements.accountPage.innerHTML = accountHTML;
        }

        function loadAccountOrders() {
            const userOrders = appData.userOrders.filter(o => o.userId === appState.user.id);
            
            if (userOrders.length === 0) {
                return `
                    <div style="text-align: center; padding: 60px 0; color: var(--text-light);">
                        <i class="fas fa-shopping-bag" style="font-size: 4rem; color: #ddd; margin-bottom: 20px;"></i>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">هنوز سفارشی ثبت نکرده‌اید</p>
                        <p style="margin-bottom: 25px;">می‌توانید از فروشگاه محصولات مورد نظر خود را خریداری کنید</p>
                        <button class="btn btn-primary" style="padding: 12px 30px;" onclick="showHomePage()">
                            <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i>مشاهده محصولات
                        </button>
                    </div>
                `;
            }
            
            let ordersHTML = `
                <div style="overflow-x: auto;">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>شماره سفارش</th>
                                <th>تاریخ</th>
                                <th>تعداد اقلام</th>
                                <th>مبلغ کل</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            userOrders.forEach(order => {
                let statusClass = '';
                let statusText = '';
                switch(order.status) {
                    case 'delivered':
                        statusClass = 'status-delivered';
                        statusText = 'تحویل شده';
                        break;
                    case 'processing':
                        statusClass = 'status-processing';
                        statusText = 'در حال پردازش';
                        break;
                    case 'shipped':
                        statusClass = 'status-shipped';
                        statusText = 'ارسال شده';
                        break;
                    case 'cancelled':
                        statusClass = 'status-cancelled';
                        statusText = 'لغو شده';
                        break;
                    default:
                        statusClass = 'status-pending';
                        statusText = 'در انتظار';
                }
                
                ordersHTML += `
                    <tr>
                        <td>${order.id}</td>
                        <td>${order.date}</td>
                        <td>${order.items}</td>
                        <td>${formatPrice(order.total)}</td>
                        <td>
                            <span class="order-status ${statusClass}">${statusText}</span>
                        </td>
                        <td>
                            <button class="btn" style="padding: 8px 15px; font-size: 0.85rem;" onclick="viewOrderDetails('${order.id}')">مشاهده</button>
                        </td>
                    </tr>
                `;
            });
            
            ordersHTML += `
                        </tbody>
                    </table>
                </div>
            `;
            
            return ordersHTML;
        }

        function loadAccountAddresses() {
            const userAddresses = appData.userAddresses.filter(a => a.userId === appState.user.id);
            
            let addressesHTML = `
                <div style="display: flex; justify-content: flex-end; margin-bottom: 20px;">
                    <button class="btn btn-primary" onclick="openModal('addressModal')"><i class="fas fa-plus" style="margin-left: 8px;"></i> افزودن آدرس جدید</button>
                </div>
            `;
            
            if (userAddresses.length === 0) {
                addressesHTML += `
                    <div style="text-align: center; padding: 60px 0; color: var(--text-light);">
                        <i class="fas fa-map-marker-alt" style="font-size: 4rem; color: #ddd; margin-bottom: 20px;"></i>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">هنوز آدرسی ثبت نکرده‌اید</p>
                        <p style="margin-bottom: 25px;">برای خرید راحت‌تر، آدرس خود را اضافه کنید</p>
                    </div>
                `;
            } else {
                addressesHTML += `
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                `;
                
                userAddresses.forEach(address => {
                    addressesHTML += `
                        <div class="address-card ${address.isDefault ? 'selected' : ''}" style="cursor: default;">
                            <div class="address-title">
                                <span>${address.title} ${address.isDefault ? '(پیش‌فرض)' : ''}</span>
                            </div>
                            <div class="address-details">
                                <div><i class="fas fa-city" style="margin-left: 8px;"></i> ${address.city}، ${address.area}</div>
                                <div><i class="fas fa-map-marker-alt" style="margin-left: 8px;"></i> ${address.address}</div>
                                <div><i class="fas fa-mail-bulk" style="margin-left: 8px;"></i> کد پستی: ${address.postalCode}</div>
                                <div><i class="fas fa-phone" style="margin-left: 8px;"></i> تلفن: ${address.phone}</div>
                            </div>
                            ${address.isDefault ? `
                            <div style="margin-top: 15px;">
                                <span class="order-status status-delivered">آدرس پیش‌فرض</span>
                            </div>
                            ` : ''}
                        </div>
                    `;
                });
                
                addressesHTML += `</div>`;
            }
            
            return addressesHTML;
        }

        function loadAccountWishlist() {
            if (appState.wishlist.length === 0) {
                return `
                    <div style="text-align: center; padding: 60px 0; color: var(--text-light);">
                        <i class="fas fa-heart" style="font-size: 4rem; color: #ddd; margin-bottom: 20px;"></i>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">لیست علاقه‌مندی‌های شما خالی است</p>
                        <p style="margin-bottom: 25px;">می‌توانید محصولات مورد علاقه خود را به این لیست اضافه کنید</p>
                        <button class="btn btn-primary" style="padding: 12px 30px;" onclick="showHomePage()">
                            <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i>مشاهده محصولات
                        </button>
                    </div>
                `;
            }
            
            let wishlistHTML = `
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
            `;
            
            appState.wishlist.forEach(product => {
                const badgeClass = product.badge === "discount" ? "discount" : 
                                  product.badge === "new" ? "new" : "hot";
                
                wishlistHTML += `
                    <div class="product-card">
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}">
                            <span class="product-badge ${badgeClass}">
                                ${product.badge === "discount" ? "تخفیف" : 
                                  product.badge === "new" ? "جدید" : "پرفروش"}
                            </span>
                            <div class="product-actions">
                                <button class="action-icon-btn" title="حذف از علاقه‌مندی‌ها" onclick="removeFromWishlist(${product.id})">
                                    <i class="fas fa-times"></i>
                                </button>
                                <button class="action-icon-btn" title="مشاهده سریع" onclick="showQuickView(${product.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-title">${product.name}</div>
                            <div class="product-rating">
                                ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                                <span style="color: #777;">(${product.rating})</span>
                            </div>
                            <div class="product-price">
                                <span class="price-current">${formatPrice(product.price)}</span>
                                ${product.oldPrice ? `<span class="price-old">${formatPrice(product.oldPrice)}</span>` : ''}
                            </div>
                            <button class="add-to-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> افزودن به سبد
                            </button>
                        </div>
                    </div>
                `;
            });
            
            wishlistHTML += `</div>`;
            
            return wishlistHTML;
        }

        function loadAccountProfile() {
            return `
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">نام و نام خانوادگی</label>
                        <input type="text" class="form-input" value="${appState.user.name}" id="profileName">
                    </div>
                    <div class="form-group">
                        <label class="form-label">شماره موبایل</label>
                        <input type="text" class="form-input" value="${appState.user.phone}" disabled>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">ایمیل</label>
                    <input type="email" class="form-input" value="${appState.user.email || ''}" id="profileEmail">
                </div>
                <div class="form-group">
                    <label class="form-label">کد ملی</label>
                    <input type="text" class="form-input" value="${appState.user.nationalId || ''}" id="profileNationalId">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">تاریخ تولد</label>
                        <input type="text" class="form-input" placeholder="۱۳۷۰/۰۱/۰۱" id="profileBirthDate">
                    </div>
                    <div class="form-group">
                        <label class="form-label">جنسیت</label>
                        <select class="form-select" id="profileGender">
                            <option value="">انتخاب کنید</option>
                            <option value="male" ${appState.user.gender === 'male' ? 'selected' : ''}>مرد</option>
                            <option value="female" ${appState.user.gender === 'female' ? 'selected' : ''}>زن</option>
                        </select>
                    </div>
                </div>
                <div class="form-section">
                    <h3>تغییر رمز عبور</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">رمز عبور فعلی</label>
                            <input type="password" class="form-input" id="currentPassword">
                        </div>
                        <div class="form-group">
                            <label class="form-label">رمز عبور جدید</label>
                            <input type="password" class="form-input" id="newPassword">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">تکرار رمز عبور جدید</label>
                        <input type="password" class="form-input" id="confirmNewPassword">
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" onclick="updateProfile()">ذخیره تغییرات</button>
                    <button class="btn btn-secondary" onclick="showAccountPage('dashboard')">انصراف</button>
                </div>
            `;
        }

        function showAccountSection(section) {
            // به‌روزرسانی منو
            document.querySelectorAll('.account-menu a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // به‌روزرسانی بخش‌ها
            document.querySelectorAll('.account-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById(`account${section.charAt(0).toUpperCase() + section.slice(1)}`).classList.add('active');
        }

        function removeFromWishlist(productId) {
            appState.wishlist = appState.wishlist.filter(item => item.id !== productId);
            showAccountPage('wishlist');
            showNotification("محصول از لیست علاقه‌مندی‌ها حذف شد", "info");
        }

        function updateProfile() {
            const name = document.getElementById('profileName').value;
            const email = document.getElementById('profileEmail').value;
            const nationalId = document.getElementById('profileNationalId').value;
            const birthDate = document.getElementById('profileBirthDate').value;
            const gender = document.getElementById('profileGender').value;
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmNewPassword = document.getElementById('confirmNewPassword').value;
            
            // به‌روزرسانی اطلاعات پایه
            appState.user.name = name;
            appState.user.email = email;
            appState.user.nationalId = nationalId;
            appState.user.gender = gender;
            
            // به‌روزرسانی در داده‌های اصلی
            const userIndex = appData.users.findIndex(u => u.id === appState.user.id);
            if (userIndex !== -1) {
                appData.users[userIndex] = {...appData.users[userIndex], ...appState.user};
            }
            
            // تغییر رمز عبور
            if (currentPassword && newPassword && confirmNewPassword) {
                if (currentPassword !== appState.user.password) {
                    showNotification("رمز عبور فعلی اشتباه است", "error");
                    return;
                }
                
                if (newPassword.length < 6) {
                    showNotification("رمز عبور جدید باید حداقل ۶ کاراکتر باشد", "warning");
                    return;
                }
                
                if (newPassword !== confirmNewPassword) {
                    showNotification("رمز عبور جدید و تکرار آن مطابقت ندارند", "error");
                    return;
                }
                
                appState.user.password = newPassword;
                appData.users[userIndex].password = newPassword;
            }
            
            showNotification("اطلاعات حساب کاربری با موفقیت به‌روزرسانی شد", "success");
            updateAccountButton();
        }

        function viewOrderDetails(orderId) {
            const order = appData.userOrders.find(o => o.id === orderId && o.userId === appState.user.id);
            if (!order) return;
            
            const address = appData.userAddresses.find(a => a.id === order.addressId);
            
            let orderHTML = `
                <h3 style="margin-bottom: 20px; color: var(--dark-color);">جزئیات سفارش ${orderId}</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h4 style="margin-bottom: 15px; font-size: 1.1rem; color: var(--dark-color);">اطلاعات سفارش</h4>
                        <div style="background: #f9f9f9; padding: 20px; border-radius: 12px; border: 1px solid #eee;">
                            <div style="margin-bottom: 10px;"><strong>شماره سفارش:</strong> ${order.id}</div>
                            <div style="margin-bottom: 10px;"><strong>تاریخ ثبت:</strong> ${order.date}</div>
                            <div style="margin-bottom: 10px;"><strong>روش پرداخت:</strong> ${order.paymentMethod === 'cash' ? 'پرداخت در محل' : 'پرداخت آنلاین'}</div>
                            <div style="margin-bottom: 10px;"><strong>وضعیت:</strong> <span class="order-status ${getOrderStatusClass(order.status)}">${getOrderStatusText(order.status)}</span></div>
                        </div>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 15px; font-size: 1.1rem; color: var(--dark-color);">آدرس ارسال</h4>
                        <div style="background: #f9f9f9; padding: 20px; border-radius: 12px; border: 1px solid #eee;">
                            ${address ? `
                                <div style="margin-bottom: 10px;"><strong>${address.title}</strong></div>
                                <div style="margin-bottom: 5px;">${address.city}، ${address.area}</div>
                                <div style="margin-bottom: 5px;">${address.address}</div>
                                <div style="margin-bottom: 5px;">کد پستی: ${address.postalCode}</div>
                                <div>تلفن: ${address.phone}</div>
                            ` : 'آدرس یافت نشد'}
                        </div>
                    </div>
                </div>
                <h4 style="margin-bottom: 15px; font-size: 1.1rem; color: var(--dark-color);">محصولات سفارش</h4>
                <div style="background: #f9f9f9; border-radius: 12px; padding: 25px; margin-bottom: 25px; border: 1px solid #eee;">
            `;
            
            order.products.forEach(product => {
                orderHTML += `
                    <div class="order-item">
                        <div>
                            <div style="font-weight: 600; margin-bottom: 5px;">${product.name}</div>
                            <div style="font-size: 0.9rem; color: var(--text-light);">
                                ${product.quantity} عدد × ${formatPrice(product.price)}
                            </div>
                        </div>
                        <div style="font-weight: 700;">${formatPrice(product.price * product.quantity)}</div>
                    </div>
                `;
            });
            
            orderHTML += `
                    <div class="order-total">
                        <span>مبلغ کل سفارش</span>
                        <span>${formatPrice(order.total)}</span>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="showAccountPage('orders')">
                        <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>بازگشت به لیست سفارش‌ها
                    </button>
                </div>
            `;
            
            // نمایش در مودال یا صفحه
            const modalContent = document.getElementById('quickViewContent');
            modalContent.innerHTML = orderHTML;
            openModal('productQuickView');
        }

        function getOrderStatusClass(status) {
            switch(status) {
                case 'delivered': return 'status-delivered';
                case 'processing': return 'status-processing';
                case 'shipped': return 'status-shipped';
                case 'cancelled': return 'status-cancelled';
                default: return 'status-pending';
            }
        }

        function getOrderStatusText(status) {
            switch(status) {
                case 'delivered': return 'تحویل شده';
                case 'processing': return 'در حال پردازش';
                case 'shipped': return 'ارسال شده';
                case 'cancelled': return 'لغو شده';
                default: return 'در انتظار';
            }
        }

        // مدیریت آدرس
        function saveAddress() {
            const title = document.getElementById('addressTitle').value;
            const city = document.getElementById('addressCity').value;
            const area = document.getElementById('addressArea').value;
            const address = document.getElementById('addressFull').value;
            const postalCode = document.getElementById('addressPostalCode').value;
            const phone = document.getElementById('addressPhone').value;
            const isDefault = document.getElementById('addressDefault').checked;
            
            if (!title || !city || !area || !address || !phone) {
                showNotification("لطفاً فیلدهای ضروری را پر کنید", "warning");
                return;
            }
            
            if (phone.length < 10) {
                showNotification("شماره تماس معتبر نیست", "warning");
                return;
            }
            
            const newAddress = {
                id: appData.userAddresses.length + 1,
                userId: appState.user.id,
                title: title,
                city: city,
                area: area,
                address: address,
                postalCode: postalCode || '',
                phone: phone,
                isDefault: isDefault
            };
            
            // اگر این آدرس پیش‌فرض است، پیش‌فرض بودن بقیه را حذف کن
            if (newAddress.isDefault) {
                appData.userAddresses.forEach(addr => {
                    if (addr.userId === appState.user.id) {
                        addr.isDefault = false;
                    }
                });
            }
            
            appData.userAddresses.push(newAddress);
            closeModal('addressModal');
            showNotification("آدرس جدید با موفقیت افزوده شد", "success");
            
            // پاک کردن فرم
            document.getElementById('addressTitle').value = '';
            document.getElementById('addressCity').value = '';
            document.getElementById('addressArea').value = '';
            document.getElementById('addressFull').value = '';
            document.getElementById('addressPostalCode').value = '';
            document.getElementById('addressPhone').value = '';
            document.getElementById('addressDefault').checked = false;
            
            // بارگذاری مجدد آدرس‌ها اگر در صفحه حساب کاربری هستیم
            if (appState.currentPage === 'account') {
                showAccountPage('addresses');
            }
        }

        // پنل مدیریت
        function showAdminPanel() {
            if (!appState.user || appState.user.role !== "admin") {
                showNotification("شما دسترسی به پنل مدیریت ندارید", "error");
                return;
            }
            
            hideAllPages();
            elements.adminPanel.style.display = 'block';
            appState.currentPage = "admin";
            
            loadAdminPanel();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function loadAdminPanel() {
            const adminHTML = `
                <div class="admin-header">
                    <h1>پنل مدیریت فروشگاه</h1>
                    <p>مدیریت کامل محصولات، سفارشات، کاربران و گزارشات سیستم</p>
                </div>
                
                <div class="admin-container">
                    <div class="admin-sidebar">
                        <div class="admin-user">
                            <div class="admin-avatar">${appState.user.name.charAt(0)}</div>
                            <div>
                                <div style="font-weight: 700; font-size: 1.1rem;">${appState.user.name}</div>
                                <div style="font-size: 0.9rem; color: var(--text-light); margin-top: 5px;">مدیر سیستم</div>
                            </div>
                        </div>
                        
                        <ul class="admin-menu">
                            <li><a href="#" class="${appState.adminCurrentSection === 'dashboard' ? 'active' : ''}" onclick="showAdminSection('dashboard')"><i class="fas fa-tachometer-alt"></i> داشبورد</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'products' ? 'active' : ''}" onclick="showAdminSection('products')"><i class="fas fa-box"></i> محصولات</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'orders' ? 'active' : ''}" onclick="showAdminSection('orders')"><i class="fas fa-shopping-bag"></i> سفارشات</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'users' ? 'active' : ''}" onclick="showAdminSection('users')"><i class="fas fa-users"></i> کاربران</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'categories' ? 'active' : ''}" onclick="showAdminSection('categories')"><i class="fas fa-list"></i> دسته‌بندی‌ها</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'discounts' ? 'active' : ''}" onclick="showAdminSection('discounts')"><i class="fas fa-tags"></i> تخفیف‌ها</a></li>
                            <li><a href="#" class="${appState.adminCurrentSection === 'reports' ? 'active' : ''}" onclick="showAdminSection('reports')"><i class="fas fa-chart-bar"></i> گزارشات</a></li>
                            <li><a href="#" onclick="showHomePage()" style="color: var(--primary-color);"><i class="fas fa-store"></i> بازگشت به فروشگاه</a></li>
                        </ul>
                    </div>
                    
                    <div class="admin-content">
                        <div id="adminDashboard" class="admin-section ${appState.adminCurrentSection === 'dashboard' ? 'active' : ''}">
                            ${loadAdminDashboard()}
                        </div>
                        
                        <div id="adminProducts" class="admin-section ${appState.adminCurrentSection === 'products' ? 'active' : ''}">
                            ${loadAdminProducts()}
                        </div>
                        
                        <div id="adminOrders" class="admin-section ${appState.adminCurrentSection === 'orders' ? 'active' : ''}">
                            ${loadAdminOrders()}
                        </div>
                        
                        <div id="adminUsers" class="admin-section ${appState.adminCurrentSection === 'users' ? 'active' : ''}">
                            ${loadAdminUsers()}
                        </div>
                        
                        <div id="adminCategories" class="admin-section ${appState.adminCurrentSection === 'categories' ? 'active' : ''}">
                            ${loadAdminCategories()}
                        </div>
                        
                        <div id="adminDiscounts" class="admin-section ${appState.adminCurrentSection === 'discounts' ? 'active' : ''}">
                            ${loadAdminDiscounts()}
                        </div>
                        
                        <div id="adminReports" class="admin-section ${appState.adminCurrentSection === 'reports' ? 'active' : ''}">
                            ${loadAdminReports()}
                        </div>
                    </div>
                </div>
            `;
            
            elements.adminPanel.innerHTML = adminHTML;
        }

        function showAdminSection(section) {
            appState.adminCurrentSection = section;
            
            // به‌روزرسانی منو
            document.querySelectorAll('.admin-menu a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // به‌روزرسانی بخش‌ها
            document.querySelectorAll('.admin-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById(`admin${section.charAt(0).toUpperCase() + section.slice(1)}`).classList.add('active');
        }

        function loadAdminDashboard() {
            // محاسبات آماری
            const totalProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts].length;
            const totalOrders = appData.userOrders.length;
            const totalUsers = appData.users.length;
            const totalRevenue = appData.userOrders.reduce((sum, order) => sum + order.total, 0);
            
            return `
                <h3 class="section-title-admin">داشبورد مدیریت</h3>
                
                <div class="admin-stats">
                    <div class="admin-stat-card">
                        <div class="admin-stat-value">${totalProducts}</div>
                        <div class="admin-stat-label">تعداد محصولات</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value">${totalOrders}</div>
                        <div class="admin-stat-label">تعداد سفارشات</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value">${totalUsers}</div>
                        <div class="admin-stat-label">تعداد کاربران</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value">${formatPrice(totalRevenue)}</div>
                        <div class="admin-stat-label">درآمد کل</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                    <div>
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">آخرین سفارشات</h4>
                        <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; border: 1px solid #eee;">
                            ${appData.userOrders.slice(0, 5).map(order => `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee;">
                                    <div>
                                        <div style="font-weight: 700; margin-bottom: 8px;">${order.id}</div>
                                        <div style="font-size: 0.9rem; color: var(--text-light);">${order.date}</div>
                                    </div>
                                    <div style="text-align: left;">
                                        <div style="font-weight: 700; color: var(--primary-color); margin-bottom: 8px;">${formatPrice(order.total)}</div>
                                        <span class="order-status ${getOrderStatusClass(order.status)}">${getOrderStatusText(order.status)}</span>
                                    </div>
                                </div>
                            `).join('')}
                            <div style="text-align: center; margin-top: 20px;">
                                <a href="#" onclick="showAdminSection('orders')" style="color: var(--admin-primary); font-size: 0.95rem; font-weight: 600;">مشاهده همه سفارشات</a>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">آمار فروش ماهانه</h4>
                        <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; border: 1px solid #eee; text-align: center;">
                            <div style="height: 200px; display: flex; align-items: flex-end; justify-content: space-around; margin-bottom: 20px;">
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="width: 30px; background: var(--admin-primary); height: 150px; border-radius: 5px;"></div>
                                    <div style="margin-top: 10px; font-size: 0.85rem;">فروردین</div>
                                </div>
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="width: 30px; background: var(--admin-primary); height: 180px; border-radius: 5px;"></div>
                                    <div style="margin-top: 10px; font-size: 0.85rem;">اردیبهشت</div>
                                </div>
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="width: 30px; background: var(--admin-primary); height: 220px; border-radius: 5px;"></div>
                                    <div style="margin-top: 10px; font-size: 0.85rem;">خرداد</div>
                                </div>
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="width: 30px; background: var(--admin-primary); height: 190px; border-radius: 5px;"></div>
                                    <div style="margin-top: 10px; font-size: 0.85rem;">تیر</div>
                                </div>
                            </div>
                            <div style="color: var(--text-light); font-size: 0.9rem;">آمار فروش ۴ ماه اخیر</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function loadAdminProducts() {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            
            return `
                <div class="section-title-admin">
                    <span>مدیریت محصولات</span>
                    <button class="btn btn-admin" onclick="openAddProductModal()">
                        <i class="fas fa-plus" style="margin-left: 8px;"></i> افزودن محصول جدید
                    </button>
                </div>
                
                <div class="admin-search">
                    <input type="text" class="form-input" placeholder="جستجوی محصولات...">
                    <button class="btn btn-primary">جستجو</button>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>شناسه</th>
                                <th>نام محصول</th>
                                <th>دسته‌بندی</th>
                                <th>قیمت</th>
                                <th>موجودی</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${allProducts.map(product => `
                                <tr>
                                    <td>${product.id}</td>
                                    <td>${product.name}</td>
                                    <td>${product.category}</td>
                                    <td>${formatPrice(product.price)}</td>
                                    <td>${product.stock || 0}</td>
                                    <td>
                                        <span class="status-badge ${product.status === 'active' ? 'status-active' : 'status-inactive'}">
                                            ${product.status === 'active' ? 'فعال' : 'غیرفعال'}
                                        </span>
                                    </td>
                                    <td>
                                        <div class="admin-actions">
                                            <button class="action-btn-small action-edit" onclick="editProduct(${product.id})">ویرایش</button>
                                            <button class="action-btn-small action-view" onclick="showProductDetail(${product.id})">مشاهده</button>
                                            <button class="action-btn-small action-delete" onclick="deleteProduct(${product.id})">حذف</button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <button class="page-btn">...</button>
                    <button class="page-btn">10</button>
                </div>
            `;
        }

        function loadAdminOrders() {
            return `
                <div class="section-title-admin">
                    <span>مدیریت سفارشات</span>
                </div>
                
                <div class="admin-search">
                    <input type="text" class="form-input" placeholder="جستجوی سفارشات...">
                    <button class="btn btn-primary">جستجو</button>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>شماره سفارش</th>
                                <th>مشتری</th>
                                <th>تاریخ</th>
                                <th>مبلغ</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${appData.userOrders.map(order => {
                                const user = appData.users.find(u => u.id === order.userId);
                                return `
                                    <tr>
                                        <td>${order.id}</td>
                                        <td>${user ? user.name : 'نامشخص'}</td>
                                        <td>${order.date}</td>
                                        <td>${formatPrice(order.total)}</td>
                                        <td>
                                            <span class="status-badge ${getOrderStatusClass(order.status)}">
                                                ${getOrderStatusText(order.status)}
                                            </span>
                                        </td>
                                        <td>
                                            <div class="admin-actions">
                                                <button class="action-btn-small action-edit" onclick="editOrder('${order.id}')">ویرایش</button>
                                                <button class="action-btn-small action-view" onclick="viewOrderDetails('${order.id}')">مشاهده</button>
                                            </div>
                                        </td>
                                    </tr>
                                `;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                </div>
            `;
        }

        function loadAdminUsers() {
            return `
                <div class="section-title-admin">
                    <span>مدیریت کاربران</span>
                    <button class="btn btn-admin" onclick="openAddUserModal()">
                        <i class="fas fa-plus" style="margin-left: 8px;"></i> افزودن کاربر جدید
                    </button>
                </div>
                
                <div class="admin-search">
                    <input type="text" class="form-input" placeholder="جستجوی کاربران...">
                    <button class="btn btn-primary">جستجو</button>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>شناسه</th>
                                <th>نام و نام خانوادگی</th>
                                <th>شماره موبایل</th>
                                <th>ایمیل</th>
                                <th>نقش</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${appData.users.map(user => `
                                <tr>
                                    <td>${user.id}</td>
                                    <td>${user.name}</td>
                                    <td>${user.phone}</td>
                                    <td>${user.email || '-'}</td>
                                    <td>${user.role === 'admin' ? 'مدیر' : 'مشتری'}</td>
                                    <td>
                                        <span class="status-badge ${user.status === 'active' ? 'status-active' : 'status-inactive'}">
                                            ${user.status === 'active' ? 'فعال' : 'غیرفعال'}
                                        </span>
                                    </td>
                                    <td>
                                        <div class="admin-actions">
                                            <button class="action-btn-small action-edit" onclick="editUser(${user.id})">ویرایش</button>
                                            ${user.id !== appState.user.id ? `
                                                <button class="action-btn-small action-delete" onclick="deleteUser(${user.id})">حذف</button>
                                            ` : ''}
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                </div>
            `;
        }

        function loadAdminCategories() {
            return `
                <div class="section-title-admin">
                    <span>مدیریت دسته‌بندی‌ها</span>
                    <button class="btn btn-admin" onclick="openAddCategoryModal()">
                        <i class="fas fa-plus" style="margin-left: 8px;"></i> افزودن دسته‌بندی
                    </button>
                </div>
                
                <div class="admin-search">
                    <input type="text" class="form-input" placeholder="جستجوی دسته‌بندی...">
                    <button class="btn btn-primary">جستجو</button>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>شناسه</th>
                                <th>نام دسته‌بندی</th>
                                <th>تعداد محصولات</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${appData.categories.map(category => `
                                <tr>
                                    <td>${category.id}</td>
                                    <td>${category.name}</td>
                                    <td>${category.count}</td>
                                    <td>
                                        <span class="status-badge ${category.status === 'active' ? 'status-active' : 'status-inactive'}">
                                            ${category.status === 'active' ? 'فعال' : 'غیرفعال'}
                                        </span>
                                    </td>
                                    <td>
                                        <div class="admin-actions">
                                            <button class="action-btn-small action-edit" onclick="editCategory(${category.id})">ویرایش</button>
                                            <button class="action-btn-small action-delete" onclick="deleteCategory(${category.id})">حذف</button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function loadAdminDiscounts() {
            return `
                <div class="section-title-admin">
                    <span>مدیریت تخفیف‌ها</span>
                    <button class="btn btn-admin" onclick="openAddDiscountModal()">
                        <i class="fas fa-plus" style="margin-left: 8px;"></i> افزودن تخفیف
                    </button>
                </div>
                
                <div class="admin-search">
                    <input type="text" class="form-input" placeholder="جستجوی تخفیف...">
                    <button class="btn btn-primary">جستجو</button>
                </div>
                
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>شناسه</th>
                                <th>عنوان</th>
                                <th>کد تخفیف</th>
                                <th>درصد</th>
                                <th>انقضا</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${appData.discounts.map(discount => `
                                <tr>
                                    <td>${discount.id}</td>
                                    <td>${discount.title}</td>
                                    <td><strong>${discount.code}</strong></td>
                                    <td>${discount.percent}%</td>
                                    <td>${discount.expireDate}</td>
                                    <td>
                                        <span class="status-badge ${discount.status === 'active' ? 'status-active' : 'status-inactive'}">
                                            ${discount.status === 'active' ? 'فعال' : 'غیرفعال'}
                                        </span>
                                    </td>
                                    <td>
                                        <div class="admin-actions">
                                            <button class="action-btn-small action-edit" onclick="editDiscount(${discount.id})">ویرایش</button>
                                            <button class="action-btn-small action-delete" onclick="deleteDiscount(${discount.id})">حذف</button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function loadAdminReports() {
            return `
                <div class="section-title-admin">
                    <span>گزارشات و آمار</span>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">گزارش فروش ماهانه</h4>
                        <div style="background: #f9f9f9; border-radius: 12px; padding: 25px; border: 1px solid #eee;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                <span>ماه</span>
                                <span>مبلغ فروش</span>
                            </div>
                            ${['فروردین', 'اردیبهشت', 'خرداد', 'تیر'].map((month, index) => `
                                <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;">
                                    <span>${month}</span>
                                    <span>${formatPrice((index + 1) * 15000000)}</span>
                                </div>
                            `).join('')}
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; font-weight: 700; font-size: 1.1rem;">
                                <span>جمع کل</span>
                                <span>${formatPrice(150000000)}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">پر فروش‌ترین محصولات</h4>
                        <div style="background: #f9f9f9; border-radius: 12px; padding: 25px; border: 1px solid #eee;">
                            ${appData.featuredProducts.slice(0, 5).map((product, index) => `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee;">
                                    <div>
                                        <div style="font-weight: 600;">${product.name.substring(0, 25)}${product.name.length > 25 ? '...' : ''}</div>
                                        <div style="font-size: 0.85rem; color: var(--text-light);">${index + 1} فروش</div>
                                    </div>
                                    <span style="font-weight: 700; color: var(--admin-primary);">${formatPrice(product.price)}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 style="margin-bottom: 15px; color: var(--dark-color);">گزارش سفارشات بر اساس شهر</h4>
                    <div style="background: #f9f9f9; border-radius: 12px; padding: 25px; border: 1px solid #eee;">
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                            ${['کابل', 'هرات', 'قندهار', 'مزارشریف'].map(city => `
                                <div style="text-align: center;">
                                    <div style="font-size: 1.8rem; font-weight: 700; color: var(--admin-primary); margin-bottom: 5px;">${Math.floor(Math.random() * 50) + 20}</div>
                                    <div style="font-size: 0.9rem; color: var(--text-light);">سفارش از ${city}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // توابع مدیریتی
        function openAddProductModal() {
            document.getElementById('adminProductModalTitle').textContent = 'افزودن محصول جدید';
            
            const modalContent = `
                <div class="admin-form-container">
                    <form id="addProductForm">
                        <div class="form-section">
                            <h3>اطلاعات اصلی</h3>
                            <div class="form-group">
                                <label class="form-label">نام محصول <span style="color: var(--danger-color);">*</span></label>
                                <input type="text" class="form-input" id="productName" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">دسته‌بندی <span style="color: var(--danger-color);">*</span></label>
                                    <select class="form-select" id="productCategory" required>
                                        <option value="">انتخاب کنید</option>
                                        ${appData.categories.map(category => `
                                            <option value="${category.name}">${category.name}</option>
                                        `).join('')}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">برند</label>
                                    <input type="text" class="form-input" id="productBrand">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">قیمت (افغانی) <span style="color: var(--danger-color);">*</span></label>
                                    <input type="number" class="form-input" id="productPrice" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">قیمت قبلی (افغانی)</label>
                                    <input type="number" class="form-input" id="productOldPrice">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">تخفیف (%)</label>
                                    <input type="number" class="form-input" id="productDiscount" min="0" max="100">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">موجودی <span style="color: var(--danger-color);">*</span></label>
                                    <input type="number" class="form-input" id="productStock" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>توضیحات و مشخصات</h3>
                            <div class="form-group">
                                <label class="form-label">توضیحات محصول</label>
                                <textarea class="form-textarea" id="productDescription" rows="4"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">SKU (کد محصول)</label>
                                <input type="text" class="form-input" id="productSKU">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ویژگی‌ها (هر ویژگی در یک خط)</label>
                                <textarea class="form-textarea" id="productSpecs" rows="4" placeholder="ویژگی 1: مقدار
ویژگی 2: مقدار"></textarea>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>تصاویر محصول</h3>
                            <div class="image-upload">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>برای آپلود تصویر کلیک کنید یا فایل را اینجا رها کنید</p>
                                <input type="file" id="productImage" accept="image/*" style="display: none;">
                            </div>
                            <div class="uploaded-images" id="uploadedImages"></div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">ذخیره محصول</button>
                            <button type="button" class="btn btn-secondary" onclick="closeModal('adminProductModal')">انصراف</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.getElementById('adminProductModalContent').innerHTML = modalContent;
            openModal('adminProductModal');
        }

        function editProduct(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            document.getElementById('adminProductModalTitle').textContent = 'ویرایش محصول';
            
            const modalContent = `
                <div class="admin-form-container">
                    <form id="editProductForm" onsubmit="updateProduct(${productId}); return false;">
                        <div class="form-section">
                            <h3>اطلاعات اصلی</h3>
                            <div class="form-group">
                                <label class="form-label">نام محصول <span style="color: var(--danger-color);">*</span></label>
                                <input type="text" class="form-input" id="productName" value="${product.name}" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">دسته‌بندی <span style="color: var(--danger-color);">*</span></label>
                                    <select class="form-select" id="productCategory" required>
                                        <option value="">انتخاب کنید</option>
                                        ${appData.categories.map(category => `
                                            <option value="${category.name}" ${product.category === category.name ? 'selected' : ''}>${category.name}</option>
                                        `).join('')}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">برند</label>
                                    <input type="text" class="form-input" id="productBrand" value="${product.brand || ''}">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">قیمت (افغانی) <span style="color: var(--danger-color);">*</span></label>
                                    <input type="number" class="form-input" id="productPrice" value="${product.price}" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">قیمت قبلی (افغانی)</label>
                                    <input type="number" class="form-input" id="productOldPrice" value="${product.oldPrice || ''}">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">تخفیف (%)</label>
                                    <input type="number" class="form-input" id="productDiscount" value="${product.discount || ''}" min="0" max="100">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">موجودی <span style="color: var(--danger-color);">*</span></label>
                                    <input type="number" class="form-input" id="productStock" value="${product.stock || 0}" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">وضعیت</label>
                                    <select class="form-select" id="productStatus">
                                        <option value="active" ${product.status === 'active' ? 'selected' : ''}>فعال</option>
                                        <option value="inactive" ${product.status === 'inactive' ? 'selected' : ''}>غیرفعال</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">نوع بدج</label>
                                    <select class="form-select" id="productBadge">
                                        <option value="">بدون بدج</option>
                                        <option value="new" ${product.badge === 'new' ? 'selected' : ''}>جدید</option>
                                        <option value="discount" ${product.badge === 'discount' ? 'selected' : ''}>تخفیف‌دار</option>
                                        <option value="hot" ${product.badge === 'hot' ? 'selected' : ''}>پرفروش</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>توضیحات و مشخصات</h3>
                            <div class="form-group">
                                <label class="form-label">توضیحات محصول</label>
                                <textarea class="form-textarea" id="productDescription" rows="4">${product.description || ''}</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">SKU (کد محصول)</label>
                                <input type="text" class="form-input" id="productSKU" value="${product.sku || ''}">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">امتیاز (۱-۵)</label>
                                <input type="number" class="form-input" id="productRating" value="${product.rating || 4}" min="1" max="5" step="0.1">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">ذخیره تغییرات</button>
                            <button type="button" class="btn btn-secondary" onclick="closeModal('adminProductModal')">انصراف</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.getElementById('adminProductModalContent').innerHTML = modalContent;
            openModal('adminProductModal');
        }

        function updateProduct(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const productIndex = allProducts.findIndex(p => p.id === productId);
            
            if (productIndex === -1) return;
            
            // در یک پروژه واقعی، اینجا اطلاعات به سرور ارسال می‌شود
            showNotification("محصول با موفقیت به‌روزرسانی شد", "success");
            closeModal('adminProductModal');
            showAdminSection('products');
        }

        function deleteProduct(productId) {
            if (confirm("آیا از حذف این محصول اطمینان دارید؟")) {
                // در یک پروژه واقعی، اینجا درخواست حذف به سرور ارسال می‌شود
                showNotification("محصول با موفقیت حذف شد", "success");
                showAdminSection('products');
            }
        }

        function editOrder(orderId) {
            showNotification("ویرایش سفارش در حال توسعه است", "info");
        }

        function editUser(userId) {
            showNotification("ویرایش کاربر در حال توسعه است", "info");
        }

        function deleteUser(userId) {
            if (confirm("آیا از حذف این کاربر اطمینان دارید؟")) {
                showNotification("کاربر با موفقیت حذف شد", "success");
                showAdminSection('users');
            }
        }

        function editCategory(categoryId) {
            showNotification("ویرایش دسته‌بندی در حال توسعه است", "info");
        }

        function deleteCategory(categoryId) {
            if (confirm("آیا از حذف این دسته‌بندی اطمینان دارید؟")) {
                showNotification("دسته‌بندی با موفقیت حذف شد", "success");
                showAdminSection('categories');
            }
        }

        function editDiscount(discountId) {
            showNotification("ویرایش تخفیف در حال توسعه است", "info");
        }

        function deleteDiscount(discountId) {
            if (confirm("آیا از حذف این تخفیف اطمینان دارید؟")) {
                showNotification("تخفیف با موفقیت حذف شد", "success");
                showAdminSection('discounts');
            }
        }

        function openAddUserModal() {
            showNotification("افزودن کاربر جدید در حال توسعه است", "info");
        }

        function openAddCategoryModal() {
            showNotification("افزودن دسته‌بندی جدید در حال توسعه است", "info");
        }

        function openAddDiscountModal() {
            showNotification("افزودن تخفیف جدید در حال توسعه است", "info");
        }

        // توابع دیگر
        function hideAllPages() {
            elements.homePage.style.display = 'none';
            elements.productPage.style.display = 'none';
            elements.checkoutSection.style.display = 'none';
            elements.accountPage.style.display = 'none';
            elements.adminPanel.style.display = 'none';
            elements.compareSection.style.display = 'none';
        }

        function updateActiveNavLink(page) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            if (page === 'home') {
                document.querySelector('.nav-link[onclick="showHomePage()"]').classList.add('active');
            }
        }

        // بارگذاری محتوا
        function loadCategories() {
            let html = '';
            appData.categories.forEach(category => {
                html += `
                    <div class="category-item bounce" onclick="showCategory('${category.slug}')">
                        <div class="category-icon" style="background: ${category.color}20; color: ${category.color};">
                            <i class="${category.icon}"></i>
                        </div>
                        <div class="category-name">${category.name}</div>
                        <div style="font-size: 0.75rem; color: #999; margin-top: 5px;">${category.count} محصول</div>
                    </div>
                `;
            });
            elements.categoriesGrid.innerHTML = html;
        }

        function loadProducts() {
            let html = '';
            appData.featuredProducts.forEach(product => {
                html += createProductCard(product);
            });
            elements.featuredProducts.innerHTML = html;
        }

        function loadNewProducts() {
            let html = '';
            appData.newProducts.forEach(product => {
                html += createProductCard(product);
            });
            elements.newProducts.innerHTML = html;
        }

        function createProductCard(product) {
            const badgeClass = product.badge === "discount" ? "discount" : 
                              product.badge === "new" ? "new" : "hot";
            
            return `
                <div class="product-card">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                        <span class="product-badge ${badgeClass}">
                            ${product.badge === "discount" ? "تخفیف" : 
                              product.badge === "new" ? "جدید" : "پرفروش"}
                        </span>
                        <div class="product-actions">
                            <button class="action-icon-btn" title="افزودن به علاقه‌مندی‌ها" onclick="addToWishlist(${product.id})">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="action-icon-btn" title="مشاهده سریع" onclick="showQuickView(${product.id})">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-icon-btn" title="افزودن به مقایسه" onclick="addToCompare(${product.id})">
                                <i class="fas fa-balance-scale"></i>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-rating">
                            ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                            <span style="color: #777; font-size: 0.85rem;">(${product.rating})</span>
                        </div>
                        <div class="product-price">
                            <span class="price-current">${formatPrice(product.price)}</span>
                            ${product.oldPrice ? `<span class="price-old">${formatPrice(product.oldPrice)}</span>` : ''}
                        </div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> افزودن به سبد
                        </button>
                    </div>
                </div>
            `;
        }

        function loadBrands() {
            let html = '';
            appData.brands.forEach(brand => {
                html += `
                    <div class="brand-item bounce">
                        <img src="${brand.logo}" alt="${brand.name}">
                    </div>
                `;
            });
            elements.brandsSlider.innerHTML = html;
        }

        function loadTestimonials() {
            let html = '';
            appData.testimonials.forEach(testimonial => {
                html += `
                    <div class="testimonial-card bounce">
                        <div class="testimonial-header">
                            <div class="customer-avatar">${testimonial.name.charAt(0)}</div>
                            <div class="customer-info">
                                <h4>${testimonial.name}</h4>
                                <div class="rating">
                                    ${'★'.repeat(testimonial.rating)}${'☆'.repeat(5 - testimonial.rating)}
                                    <span style="color: #777; margin-right: 10px; font-size: 0.85rem;">
                                        <i class="fas fa-map-marker-alt" style="margin-left: 5px;"></i>${testimonial.city}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-text">
                            "${testimonial.text}"
                        </div>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">
                            <div style="font-size: 0.85rem; color: #888;">
                                <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i> خرید: ${testimonial.product}
                            </div>
                            <div style="font-size: 0.8rem; color: #999; margin-top: 5px;">${testimonial.date}</div>
                        </div>
                    </div>
                `;
            });
            elements.testimonialsSlider.innerHTML = html;
        }

        function loadBlogPosts() {
            let html = '';
            appData.blogPosts.forEach(post => {
                html += `
                    <div class="blog-card bounce">
                        <div class="blog-image">
                            <img src="${post.image}" alt="${post.title}">
                        </div>
                        <div class="blog-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <span style="font-size: 0.8rem; color: var(--primary-color); background: var(--primary-light); padding: 4px 10px; border-radius: 4px;">${post.category}</span>
                                <span style="font-size: 0.8rem; color: #999;">${post.readTime}</span>
                            </div>
                            <h3 class="blog-title">${post.title}</h3>
                            <p class="blog-excerpt">${post.excerpt}</p>
                            <div class="blog-meta">
                                <span><i class="far fa-calendar" style="margin-left: 5px;"></i> ${post.date}</span>
                                <a href="#" style="color: var(--primary-color); font-size: 0.85rem;">ادامه مطلب <i class="fas fa-arrow-left"></i></a>
                            </div>
                        </div>
                    </div>
                `;
            });
            elements.blogGrid.innerHTML = html;
        }

        function loadDiscounts() {
            let html = '';
            appData.discounts.forEach(discount => {
                html += `
                    <div class="discount-card bounce">
                        <div class="discount-percent">${discount.percent}%</div>
                        <h3 style="font-size: 1.2rem; margin-bottom: 10px; color: var(--dark-color);">${discount.title}</h3>
                        <p style="color: var(--text-light); margin-bottom: 15px; font-size: 0.9rem; line-height: 1.5;">${discount.description}</p>
                        <div style="background: #f5f5f5; padding: 12px; border-radius: 8px; margin-bottom: 15px; text-align: center;">
                            <div style="font-size: 0.85rem; color: #777; margin-bottom: 5px;">کد تخفیف</div>
                            <div style="font-family: monospace; font-size: 1.2rem; font-weight: 700; color: var(--primary-color); letter-spacing: 2px;">${discount.code}</div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: 0.85rem; color: var(--text-light);">حداقل خرید: ${formatPrice(discount.minPurchase)}</span>
                            <span style="font-size: 0.85rem; color: #e74c3c;">${discount.expireDate} <i class="far fa-clock" style="margin-right: 5px;"></i></span>
                        </div>
                        <button class="btn" style="width: 100%; margin-top: 20px; padding: 12px;" onclick="copyDiscountCode('${discount.code}')">
                            <i class="fas fa-copy" style="margin-left: 8px;"></i>کپی کد تخفیف
                        </button>
                    </div>
                `;
            });
            elements.discountCards.innerHTML = html;
        }

        function loadRecommendedProducts() {
            let html = '';
            appData.recommendedProducts.forEach(product => {
                const badgeClass = product.badge === "discount" ? "discount" : 
                                  product.badge === "new" ? "new" : "hot";
                
                html += `
                    <div class="product-card" style="min-width: 250px;">
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}">
                            <span class="product-badge ${badgeClass}">
                                ${product.badge === "discount" ? "تخفیف" : 
                                  product.badge === "new" ? "جدید" : "پرفروش"}
                            </span>
                            <div class="product-actions">
                                <button class="action-icon-btn" title="افزودن به علاقه‌مندی‌ها" onclick="addToWishlist(${product.id})">
                                    <i class="far fa-heart"></i>
                                </button>
                                <button class="action-icon-btn" title="مشاهده سریع" onclick="showQuickView(${product.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-title">${product.name}</div>
                            <div class="product-price">
                                <span class="price-current">${formatPrice(product.price)}</span>
                                ${product.oldPrice ? `<span class="price-old">${formatPrice(product.oldPrice)}</span>` : ''}
                            </div>
                            <button class="add-to-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> افزودن به سبد
                            </button>
                        </div>
                    </div>
                `;
            });
            elements.recommendedSlider.innerHTML = html;
        }

        function showQuickView(productId) {
            const allProducts = [...appData.featuredProducts, ...appData.newProducts, ...appData.recommendedProducts];
            const product = allProducts.find(p => p.id === productId);
            
            if (!product) return;
            
            const quickViewHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div>
                        <img src="${product.image}" alt="${product.name}" style="width: 100%; border-radius: 10px;">
                    </div>
                    <div>
                        <h3 style="font-size: 1.3rem; margin-bottom: 10px; color: var(--dark-color);">${product.name}</h3>
                        <div style="color: #f39c12; margin-bottom: 15px;">
                            ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                            <span style="color: #777; font-size: 0.9rem;">(${product.rating})</span>
                        </div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color); margin-bottom: 20px;">
                            ${formatPrice(product.price)}
                            ${product.oldPrice ? `<span style="font-size: 1rem; color: #999; text-decoration: line-through; margin-right: 10px;">${formatPrice(product.oldPrice)}</span>` : ''}
                        </div>
                        <div style="font-size: 0.95rem; color: var(--text-light); margin-bottom: 25px; line-height: 1.6;">
                            ${product.description.substring(0, 150)}...
                        </div>
                        <div style="display: flex; gap: 15px;">
                            <button class="btn btn-primary" style="flex: 1;" onclick="addToCart(${product.id}); closeModal('productQuickView');">
                                <i class="fas fa-cart-plus" style="margin-left: 8px;"></i> افزودن به سبد
                            </button>
                            <button class="btn" style="flex: 1;" onclick="showProductDetail(${product.id}); closeModal('productQuickView');">
                                <i class="fas fa-info-circle" style="margin-left: 8px;"></i> مشاهده جزئیات
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('quickViewContent').innerHTML = quickViewHTML;
            openModal('productQuickView');
        }

        function copyDiscountCode(code) {
            navigator.clipboard.writeText(code).then(() => {
                showNotification(`کد تخفیف ${code} کپی شد`, "success");
            });
        }

        // سایر توابع
        function showCategory(categorySlug) {
            hideAllPages();
            elements.homePage.style.display = 'block';
            
            const category = appData.categories.find(c => c.slug === categorySlug);
            if (!category) return;
            
            // فیلتر محصولات بر اساس دسته‌بندی
            const filteredProducts = [...appData.featuredProducts, ...appData.newProducts]
                .filter(p => p.category === category.name);
            
            // به‌روزرسانی بخش محصولات
            const productsHTML = filteredProducts.map(product => createProductCard(product)).join('');
            
            document.getElementById('featuredProducts').innerHTML = productsHTML;
            document.getElementById('featuredProducts').parentElement.style.display = 'block';
            
            // به‌روزرسانی عنوان بخش
            document.querySelector('.products-section .section-title').textContent = `محصولات ${category.name}`;
            
            window.scrollTo({ top: 400, behavior: 'smooth' });
        }

        function showAllCategories() {
            showNotification("همه دسته‌بندی‌ها نمایش داده می‌شوند", "info");
        }

        function showAllTestimonials() {
            showNotification("همه نظرات مشتریان نمایش داده می‌شوند", "info");
        }

        function showCompareSection() {
            hideAllPages();
            elements.compareSection.style.display = 'block';
            appState.currentPage = "compare";
            
            if (appState.compareProducts.length === 0) {
                elements.compareTable.innerHTML = `
                    <div style="text-align: center; padding: 60px 0;">
                        <i class="fas fa-balance-scale" style="font-size: 4rem; color: #ddd; margin-bottom: 20px;"></i>
                        <h3 style="margin-bottom: 15px; color: var(--dark-color);">لیست مقایسه خالی است</h3>
                        <p style="color: var(--text-light); margin-bottom: 25px;">می‌توانید محصولات مورد نظر خود را برای مقایسه اضافه کنید</p>
                        <button class="btn btn-primary" onclick="showHomePage()">
                            <i class="fas fa-shopping-bag" style="margin-left: 8px;"></i>مشاهده محصولات
                        </button>
                    </div>
                `;
            } else {
                // کد مقایسه محصولات
                let compareHTML = `
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; min-width: 800px;">
                            <thead>
                                <tr>
                                    <th style="padding: 15px; background: #f9f9f9; border-bottom: 2px solid var(--border-color); text-align: center; min-width: 200px;"></th>
                `;
                
                // هدرها
                appState.compareProducts.forEach(product => {
                    compareHTML += `
                        <th style="padding: 15px; background: #f9f9f9; border-bottom: 2px solid var(--border-color); text-align: center; min-width: 250px; vertical-align: top;">
                            <div style="position: relative;">
                                <button onclick="removeFromCompare(${product.id})" style="position: absolute; top: -10px; left: -10px; background: var(--danger-color); color: white; border: none; width: 25px; height: 25px; border-radius: 50%; cursor: pointer; font-size: 0.8rem;">×</button>
                                <img src="${product.image}" alt="${product.name}" style="width: 120px; height: 120px; object-fit: contain; margin-bottom: 10px;">
                                <div style="font-weight: 600; margin-bottom: 5px;">${product.name.substring(0, 40)}${product.name.length > 40 ? '...' : ''}</div>
                                <div style="color: var(--primary-color); font-weight: 700; margin-bottom: 10px;">${formatPrice(product.price)}</div>
                                <button class="btn" style="padding: 8px 15px; font-size: 0.85rem;" onclick="showProductDetail(${product.id})">مشاهده</button>
                            </div>
                        </th>
                    `;
                });
                
                compareHTML += `
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                // ردیف‌ها
                const specs = [
                    { label: "برند", key: "brand" },
                    { label: "دسته‌بندی", key: "category" },
                    { label: "امتیاز", key: "rating" },
                    { label: "تخفیف", key: "discount" },
                    { label: "وضعیت", key: "inStock" }
                ];
                
                specs.forEach(spec => {
                    compareHTML += `
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee; background: #f9f9f9; font-weight: 600;">${spec.label}</td>
                    `;
                    
                    appState.compareProducts.forEach(product => {
                        let value = "";
                        switch(spec.key) {
                            case "brand":
                                value = product.brand ? product.brand.charAt(0).toUpperCase() + product.brand.slice(1) : "نامشخص";
                                break;
                            case "category":
                                value = product.category;
                                break;
                            case "rating":
                                value = product.rating + " از ۵";
                                break;
                            case "discount":
                                value = product.discount ? product.discount + "%" : "ندارد";
                                break;
                            case "inStock":
                                value = product.inStock ? "موجود" : "ناموجود";
                                break;
                            default:
                                value = product[spec.key] || "ندارد";
                        }
                        
                        compareHTML += `
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee; text-align: center;">${value}</td>
                        `;
                    });
                    
                    compareHTML += `</tr>`;
                });
                
                compareHTML += `
                            </tbody>
                        </table>
                    </div>
                `;
                
                elements.compareTable.innerHTML = compareHTML;
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function removeFromCompare(productId) {
            appState.compareProducts = appState.compareProducts.filter(item => item.id !== productId);
            updateCompareButton();
            showCompareSection();
            showNotification("محصول از لیست مقایسه حذف شد", "info");
        }

        function closeCompareSection() {
            showHomePage();
        }

        // تایمر پیشنهاد ویژه
        function startOfferTimer() {
            const hoursElement = document.getElementById('hours');
            const minutesElement = document.getElementById('minutes');
            const secondsElement = document.getElementById('seconds');
            
            let hours = 12;
            let minutes = 45;
            let seconds = 30;
            
            const timerInterval = setInterval(() => {
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                    if (minutes < 0) {
                        minutes = 59;
                        hours--;
                        if (hours < 0) {
                            hours = 0;
                            minutes = 0;
                            seconds = 0;
                            clearInterval(timerInterval);
                            showNotification("زمان پیشنهاد ویژه به پایان رسید", "warning");
                        }
                    }
                }
                
                hoursElement.textContent = hours.toString().padStart(2, '0');
                minutesElement.textContent = minutes.toString().padStart(2, '0');
                secondsElement.textContent = seconds.toString().padStart(2, '0');
            }, 1000);
        }

        // اسلایدر
        function initSlider() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.slider-dot');
            
            function showSlide(n) {
                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => dot.classList.remove('active'));
                
                currentSlide = (n + slides.length) % slides.length;
                
                slides[currentSlide].classList.add('active');
                dots[currentSlide].classList.add('active');
            }
            
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => showSlide(index));
            });
            
            // اسلایدر خودکار
            const slideInterval = setInterval(() => {
                showSlide(currentSlide + 1);
            }, 6000);
        }

        // دکمه بازگشت به بالا
        function initBackToTop() {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    elements.backToTop.classList.add('visible');
                } else {
                    elements.backToTop.classList.remove('visible');
                }
            });
            
            elements.backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // انتخاب شهر
        function loadCities() {
            const modalContent = document.querySelector('#locationModal .modal-content > div');
            let citiesHTML = '';
            
            appData.cities.forEach(city => {
                citiesHTML += `
                    <button onclick="selectCity('${city}')" 
                            style="padding: 15px; border: 2px solid ${appState.currentCity === city ? 'var(--primary-color)' : '#e0e0e0'}; 
                                   border-radius: 10px; background: ${appState.currentCity === city ? 'var(--primary-light)' : 'white'}; 
                                   color: ${appState.currentCity === city ? 'var(--primary-color)' : '#333'}; 
                                   font-weight: ${appState.currentCity === city ? '700' : '500'}; 
                                   cursor: pointer; transition: var(--transition); text-align: center;">
                        <i class="fas fa-map-marker-alt" style="margin-left: 8px; color: ${appState.currentCity === city ? 'var(--primary-color)' : '#999'}"></i>
                        ${city}
                    </button>
                `;
            });
            
            modalContent.innerHTML = citiesHTML;
        }

        function selectCity(city) {
            appState.currentCity = city;
            elements.currentCity.textContent = city;
            closeModal('locationModal');
            showNotification(`شهر ارسال به ${city} تغییر یافت`, "success");
            loadCities();
        }

        // خبرنامه
        function subscribeNewsletter() {
            const email = document.getElementById('newsletterEmail').value;
            
            if (!email || !email.includes('@')) {
                showNotification("لطفاً یک ایمیل معتبر وارد کنید", "warning");
                return;
            }
            
            document.getElementById('newsletterEmail').value = '';
            showNotification("ایمیل شما با موفقیت در خبرنامه ثبت شد", "success");
        }

        // رویدادها
        function setupEventListeners() {
            // انتخاب شهر
            elements.locationBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal('locationModal');
            });
            
            // بستن مودال‌ها
            elements.closeLocationModal.addEventListener('click', () => closeModal('locationModal'));
            elements.closeCartModal.addEventListener('click', () => closeModal('cartModal'));
            elements.closeLoginModal.addEventListener('click', () => closeModal('loginModal'));
            document.getElementById('closeRegisterModal').addEventListener('click', () => closeModal('registerModal'));
            document.getElementById('closeForgotPasswordModal').addEventListener('click', () => closeModal('forgotPasswordModal'));
            document.getElementById('closeAddressModal').addEventListener('click', () => closeModal('addressModal'));
            document.getElementById('closeQuickView').addEventListener('click', () => closeModal('productQuickView'));
            document.getElementById('closeAdminProductModal').addEventListener('click', () => closeModal('adminProductModal'));
            
            // سبد خرید
            elements.cartBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal('cartModal');
            });
            
            // حساب کاربری
            elements.accountBtn.addEventListener('click', (e) => {
                e.preventDefault();
                if (!appState.user) {
                    openModal('loginModal');
                } else {
                    showAccountPage();
                }
            });
            
            // جستجو
            elements.searchBtn.addEventListener('click', () => {
                const query = elements.searchInput.value.trim();
                if (query) {
                    showNotification(`در حال جستجو برای "${query}"...`, "info");
                    // در حالت واقعی اینجا جستجو انجام می‌شود
                } else {
                    showNotification("لطفاً عبارت جستجو را وارد کنید", "warning");
                }
            });
            
            elements.searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    elements.searchBtn.click();
                }
            });
            
            // منوی موبایل
            elements.mobileNavBtn.addEventListener('click', () => {
                elements.navLinks.classList.toggle('active');
            });
            
            // بستن مودال با کلیک خارج
            window.addEventListener('click', (e) => {
                if (e.target === elements.locationModal) closeModal('locationModal');
                if (e.target === elements.cartModal) closeModal('cartModal');
                if (e.target === elements.loginModal) closeModal('loginModal');
                if (e.target === document.getElementById('registerModal')) closeModal('registerModal');
                if (e.target === document.getElementById('forgotPasswordModal')) closeModal('forgotPasswordModal');
                if (e.target === document.getElementById('addressModal')) closeModal('addressModal');
                if (e.target === document.getElementById('productQuickView')) closeModal('productQuickView');
                if (e.target === document.getElementById('adminProductModal')) closeModal('adminProductModal');
            });
            
            // بستن منو با کلیک روی لینک
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    elements.navLinks.classList.remove('active');
                });
            });
            
            // پر کردن انتخاب شهر در مودال آدرس
            const citySelect = document.getElementById('addressCity');
            if (citySelect) {
                appData.cities.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    citySelect.appendChild(option);
                });
            }
        }

        // مقداردهی اولیه
        function init() {
            loadCategories();
            loadProducts();
            loadNewProducts();
            loadBrands();
            loadTestimonials();
            loadBlogPosts();
            loadDiscounts();
            loadRecommendedProducts();
            loadCities();
            updateCartDisplay();
            updateCompareButton();
            initSlider();
            startOfferTimer();
            initBackToTop();
            setupEventListeners();
            
            // آمار پویا
            document.getElementById('customerCount').textContent = "۵۰,۰۰۰+";
            document.getElementById('productCount').textContent = "۱۰,۰۰۰+";
            document.getElementById('orderCount').textContent = "۱۰۰,۰۰۰+";
            document.getElementById('cityCount').textContent = "۳۴+";
            
            // نمایش پیام خوش‌آمدگویی
            setTimeout(() => {
                showNotification(`به فروشگاه بزرگ افغانستان خوش آمدید! 🛍️ شهر انتخابی: ${appState.currentCity}`, "info");
            }, 1500);
        }

        // صادر کردن توابع برای استفاده در onclick
        window.addToCart = addToCart;
        window.removeFromCart = removeFromCart;
        window.updateCartQuantity = updateCartQuantity;
        window.selectCity = selectCity;
        window.openModal = openModal;
        window.closeModal = closeModal;
        window.showHomePage = showHomePage;
        window.showProductDetail = showProductDetail;
        window.showCategory = showCategory;
        window.showAccountPage = showAccountPage;
        window.showAccountSection = showAccountSection;
        window.selectProductOption = selectProductOption;
        window.updateProductQuantity = updateProductQuantity;
        window.addToCartAndGo = addToCartAndGo;
        window.addToWishlist = addToWishlist;
        window.addToCompare = addToCompare;
        window.removeFromCompare = removeFromCompare;
        window.showCompareSection = showCompareSection;
        window.closeCompareSection = closeCompareSection;
        window.showAllCategories = showAllCategories;
        window.showAllTestimonials = showAllTestimonials;
        window.showLoginModal = showLoginModal;
        window.showRegisterModal = showRegisterModal;
        window.showForgotPasswordModal = showForgotPasswordModal;
        window.login = login;
        window.loginAsAdmin = loginAsAdmin;
        window.register = register;
        window.sendResetPassword = sendResetPassword;
        window.logout = logout;
        window.saveAddress = saveAddress;
        window.removeFromWishlist = removeFromWishlist;
        window.viewOrderDetails = viewOrderDetails;
        window.updateProfile = updateProfile;
        window.showQuickView = showQuickView;
        window.copyDiscountCode = copyDiscountCode;
        window.showAdminPanel = showAdminPanel;
        window.showAdminSection = showAdminSection;
        window.openAddProductModal = openAddProductModal;
        window.editProduct = editProduct;
        window.updateProduct = updateProduct;
        window.deleteProduct = deleteProduct;
        window.editOrder = editOrder;
        window.editUser = editUser;
        window.deleteUser = deleteUser;
        window.editCategory = editCategory;
        window.deleteCategory = deleteCategory;
        window.editDiscount = editDiscount;
        window.deleteDiscount = deleteDiscount;
        window.openAddUserModal = openAddUserModal;
        window.openAddCategoryModal = openAddCategoryModal;
        window.openAddDiscountModal = openAddDiscountModal;
        window.subscribeNewsletter = subscribeNewsletter;

        // بارگذاری صفحه
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
